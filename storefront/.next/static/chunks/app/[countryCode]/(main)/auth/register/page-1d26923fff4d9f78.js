(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7722],{2301:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,65278,23)),Promise.resolve().then(r.bind(r,83275)),Promise.resolve().then(r.bind(r,24765))},12174:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var s=r(35474);let a=e=>{let t=(0,s.usePathname)(),r=(0,s.useParams)();if("string"==typeof r.countryCode)return r.countryCode;if(e){let r=t.replace(/^\//,"").split("/");if(r.length>1){let t=r[0],s=e.find(e=>e.country===t);if(s)return s.country}}else{let e=t.replace(/^\//,"").split("/");if(e.length>1&&2===e[0].length)return e[0]}}},19604:(e,t,r)=>{"use strict";r.d(t,{N_:()=>o});var s=r(96036);r(96456);var a=r(83249),n=r.n(a),l=r(88942);let i=e=>{let{variant:t}=e;return(0,l.Id)("unstyled"!==t&&"transition-colors",("underline"===t||"hover:underline"===t)&&"border-b border-current pb-0.5 md:pb-1","hover:underline"===t&&"border-transparent hover:border-current transition-colors","underline"===t&&"hover:border-transparent")},o=e=>{let{variant:t="unstyled",className:r,children:a,...o}=e;return(0,s.jsx)(n(),{...o,className:(0,l.QP)(i({variant:t}),r),children:a})}},24765:(e,t,r)=>{"use strict";r.d(t,{SignUpForm:()=>i});var s=r(96036);r(96456);var a=r(64194),n=r(27251),l=r(88056);let i=(0,r(55118).R)(()=>{let{mutateAsync:e,isPending:t,data:r}=(0,l.So)(),i=async t=>{await e(t)};return(0,s.jsx)(n.lV,{onSubmit:i,schema:l.Ke,children:e=>{let{watch:l}=e,i=!Object.values(l()).some(e=>e);return(0,s.jsxs)("div",{className:"flex flex-col gap-6 md:gap-8 mb-8 md:mb-16",children:[(0,s.jsxs)("div",{className:"flex gap-4 md:gap-6",children:[(0,s.jsx)(n.FO,{placeholder:"First name",name:"first_name",className:" flex-1",inputProps:{autoComplete:"given-name"}}),(0,s.jsx)(n.FO,{placeholder:"Last name",name:"last_name",className:" flex-1",inputProps:{autoComplete:"family-name"}})]}),(0,s.jsx)(n.FO,{placeholder:"Email",name:"email",className:" flex-1",type:"email",inputProps:{autoComplete:"email"}}),(0,s.jsx)(n.FO,{placeholder:"Phone",name:"phone",className:" flex-1",type:"tel",inputProps:{autoComplete:"tel"}}),(0,s.jsx)(n.FO,{placeholder:"Password",name:"password",type:"password",className:" flex-1",inputProps:{autoComplete:"new-password"}}),(0,s.jsx)(n.FO,{placeholder:"Confirm password",name:"confirm_password",type:"password",className:" flex-1",inputProps:{autoComplete:"new-password"}}),(null==r?void 0:r.error)&&(0,s.jsx)("p",{className:"text-red-primary text-sm",children:r.error}),(0,s.jsx)(a.SubmitButton,{isDisabled:i,isPending:t,children:"Register"})]})}})})},27251:(e,t,r)=>{"use strict";r.d(t,{nk:()=>j,lV:()=>f,Input:()=>y,FO:()=>g});var s=r(96036),a=r(96456),n=r(88942),l=r(15251),i=r(91268),o=r(63876),u=r(10652),c=r(748),d=r(50534),p=r(70171),m=r(66205);let h=e=>{let{placeholder:t="Country",region:r,...n}=e,l=(0,a.useMemo)(()=>{var e;return r?null==(e=r.countries)?void 0:e.map(e=>({value:e.iso_2,label:e.display_name})):[]},[r]);return(0,s.jsxs)(d.l6,{"aria-label":"Select country",...n,placeholder:t,children:[(0,s.jsxs)(m.F$,{className:"!h-14",children:[(0,s.jsx)(m.eE,{className:"text-base"}),(0,s.jsx)(m.mt,{})]}),(0,s.jsx)(p.A,{className:"w-[--trigger-width]",children:(0,s.jsx)(m.wz,{children:null==l?void 0:l.map((e,t)=>{let{value:r,label:a}=e;return(0,s.jsx)(m.vA,{id:r,children:a},t)})})})]})};h.displayName="CountrySelect";let f=e=>{let{schema:t,onSubmit:r,children:n,formProps:l,...i}=e,o=(0,u.mN)({resolver:(0,c.u)(t),...i}),d=a.useCallback(e=>r(e,o),[r,o]),p=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),o.handleSubmit(d,e=>console.log(e))(e)},[o,d]);return(0,s.jsx)(u.Op,{...o,children:(0,s.jsx)("form",{...l,onSubmit:p,children:(0,s.jsx)("fieldset",{disabled:o.formState.isSubmitting,children:"function"==typeof n?n(o):n})})})},v=e=>{let{uiSize:t="lg",isVisuallyDisabled:r,isSuccess:s}=e;return(0,n.Id)("peer block w-full rounded-xs transition-all outline-none px-4 placeholder:invisible border border-grayscale-200 hover:border-grayscale-500 focus:border-grayscale-500 bg-transparent disabled:pointer-events-none disabled:bg-grayscale-50 [&:autofill]:bg-clip-text aria-[invalid=true]:border-red-primary aria-[invalid=true]:focus:border-red-900 aria-[invalid=true]:hover:border-red-900",{sm:"h-9 text-xs focus:pt-3.5 [&:not(:placeholder-shown)]:pt-3.5 [&:autofill]:pt-3.5",md:"h-12 focus:pt-3 [&:not(:placeholder-shown)]:pt-3 [&:autofill]:pt-3",lg:"h-14 focus:pt-4 [&:not(:placeholder-shown)]:pt-4 [&:autofill]:pt-4"}[t],r?"pointer-events-none bg-grayscale-50":"",s?"border-green-500 pr-7":"")},b=e=>{let{uiSize:t="lg"}=e;return(0,n.Id)("absolute -translate-y-1/2 peer-placeholder-shown:top-1/2 left-4 peer-[:not(:placeholder-shown)]:translate-y-0 peer-[:autofill]:translate-y-0 peer-focus:translate-y-0 text-grayscale-400 pointer-events-none transition-all",{lg:"peer-focus:top-2.5 peer-[:not(:placeholder-shown)]:top-2.5 peer-[:autofill]:top-2.5 peer-focus:text-xs peer-[:not(:placeholder-shown)]:text-xs peer-[:autofill]:text-xs",md:"peer-focus:top-1 peer-[:not(:placeholder-shown)]:top-1 peer-[:autofill]:top-1 peer-focus:text-xs peer-[:not(:placeholder-shown)]:text-xs peer-[:autofill]:text-xs",sm:"peer-focus:top-1 peer-[:not(:placeholder-shown)]:top-1 peer-[:autofill]:top-1 text-xs peer-focus:text-2xs peer-[:not(:placeholder-shown)]:text-2xs peer-[:autofill]:text-2xs"}[t])},x=e=>{let{type:t,children:r,className:a,...i}=e;return(0,s.jsx)(l.E,{...i,className:(0,n.QP)("mt-2 text-xs","success"===t&&"text-green-700","error"===t&&"text-red-primary",a),children:r})},y=a.forwardRef((e,t)=>{let{uiSize:r="lg",isVisuallyDisabled:a,isSuccess:l,errorMessage:u,wrapperClassName:c,placeholder:d,className:p,...m}=e;return(0,s.jsxs)("div",{className:(0,n.QP)("relative",c),children:[(0,s.jsx)(i.p,{...m,ref:t,className:(0,n.QP)(v({uiSize:r,isVisuallyDisabled:a,isSuccess:l}),p),placeholder:d}),d&&(0,s.jsx)("span",{className:b({uiSize:r}),children:d}),l&&(0,s.jsx)(o.I,{name:"check",className:"absolute right-0 top-1/2 mr-4 -translate-y-1/2 text-green-500 w-6 h-auto"}),u&&(0,s.jsx)(x,{type:"error",className:"hidden aria-[invalid=true]:block",children:u})]})});y.displayName="Input";let g=e=>{var t;let{className:r,name:a,type:n,inputProps:l,placeholder:i}=e,{field:o,fieldState:c}=(0,u.as)({name:a});return(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)(y,{placeholder:i,...l,...o,value:null!=(t=o.value)?t:"",id:a,type:n,"aria-invalid":!!c.error}),c.error&&(0,s.jsx)("div",{className:"pt-2 text-red-900 text-small-regular",children:(0,s.jsx)("span",{children:c.error.message})})]})},j=e=>{var t;let{className:r,name:a,selectProps:n,children:l}=e,{field:i,fieldState:o}=(0,u.as)({name:a});return(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)(h,{...n,...i,selectedKey:null!=(t=i.value)?t:"",name:a,children:l}),o.error&&(0,s.jsx)("div",{className:"pt-2 text-red-900 text-small-regular",children:(0,s.jsx)("span",{children:o.error.message})})]})}},55118:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});var s=r(96036);r(96456);var a=r(74501),n=r(94465);let l=new a.E,i=e=>{let{children:t}=e;return(0,s.jsx)(n.Ht,{client:l,children:t})},o=e=>{let t=t=>(0,s.jsx)(i,{children:(0,s.jsx)(e,{...t})});return t.displayName="withReactQueryProvider(".concat(e.displayName||e.name||"Component",")"),t}},64194:(e,t,r)=>{"use strict";r.d(t,{SubmitButton:()=>l});var s=r(96036);r(96456);var a=r(85897),n=r(14724);function l(e){let{pending:t}=(0,a.useFormStatus)();return(0,s.jsx)(n.Button,{...e,type:"submit",isLoading:t||e.isLoading})}},66205:(e,t,r)=>{"use strict";r.d(t,{$i:()=>f,F$:()=>c,eE:()=>p,mt:()=>d,vA:()=>h,wz:()=>m});var s=r(96036),a=r(28912),n=r(50534),l=r(39525),i=r(84735),o=r(88942),u=r(63876);let c=e=>{let{variant:t="outline",className:r,...n}=e;return(0,s.jsx)(a.$,{...n,className:(0,o.QP)("w-full gap-1 md:gap-2 flex items-center focus:border-grayscale-500 max-md:text-xs justify-between h-8 md:h-10 px-3 md:pl-4 md:pr-3 focus-visible:outline-none transition-colors","outline"===t&&"border border-grayscale-200 rounded-xs hover:border-grayscale-500 hover:text-grayscale-500",r)})},d=e=>{let{name:t="chevron-down",className:r,...a}=e;return(0,s.jsx)(u.I,{...a,name:t,"aria-hidden":"true",className:(0,o.QP)("h-4 w-4 md:w-6 md:h-6",r)})},p=e=>{let{className:t,...r}=e;return(0,s.jsx)(n.yv,{...r,className:(0,o.QP)("truncate",t)})},m=e=>{let{className:t,...r}=e;return(0,s.jsx)(l.qF,{...r,className:(0,o.QP)("border border-grayscale-200 bg-white rounded-xs focus-visible:outline-none max-h-50 overflow-scroll",t)})},h=e=>{let{className:t,...r}=e;return(0,s.jsx)(l.nh,{...r,className:(0,o.QP)("cursor-pointer p-4 focus-visible:outline-none data-[selected]:font-semibold hover:bg-grayscale-50 transition-colors",t)})},f=e=>{let{className:t,...r}=e;return(0,s.jsx)(i.lG,{...r,className:(0,o.QP)("border border-grayscale-200 bg-white rounded-xs focus-visible:outline-none",t)})}},77766:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var s=r(96456),a=r(3565),n=r(47982),l=r(48807),i=r(16503),o=class extends l.Q{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.EN)(t.mutationKey)!==(0,i.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){let e=this.#r?.state??(0,a.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.jG.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},u=r(94465),c=r(52566);function d(e,t){let r=(0,u.jE)(t),[a]=s.useState(()=>new o(r,e));s.useEffect(()=>{a.setOptions(e)},[a,e]);let l=s.useSyncExternalStore(s.useCallback(e=>a.subscribe(n.jG.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=s.useCallback((e,t)=>{a.mutate(e,t).catch(c.l)},[a]);if(l.error&&(0,c.G)(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:i,mutateAsync:l.mutate}}},83275:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LocalizedButtonLink:()=>o,LocalizedLink:()=>i});var s=r(96036);r(96456);var a=r(12174),n=r(19604),l=r(14724);let i=e=>{let{children:t,href:r,...l}=e,i=(0,a.F)();return(0,s.jsx)(n.N_,{...l,href:i?"/".concat(i).concat(r):r,children:t})},o=e=>{let{children:t,href:r,...n}=e,i=(0,a.F)();return(0,s.jsx)(l.ButtonLink,{...n,href:i?"/".concat(i).concat(r):r,children:t})}},88056:(e,t,r)=>{"use strict";r.d(t,{uE:()=>j,Ke:()=>N,VK:()=>y,x$:()=>w,cN:()=>v,XN:()=>S,vz:()=>b,tN:()=>x,So:()=>R,r$:()=>g});var s=r(90604),a=r(94465),n=r(77766),l=r(80360);let i=(0,l.createServerReference)("7f4fe5a127ebb849795af4b8d9029d4a508178ad04",l.callServer,void 0,l.findSourceMapURL,"getCustomer"),o=(0,l.createServerReference)("40ac00fff6ea1dd3c05977455266823e0067652a53",l.callServer,void 0,l.findSourceMapURL,"login"),u=(0,l.createServerReference)("40762b8fb9498ea59ff66dadf07ff5cd06c0f5cebb",l.callServer,void 0,l.findSourceMapURL,"signout"),c=(0,l.createServerReference)("7f0bb8038e044ef1e4bc367db1a68ba8a10d5d3042",l.callServer,void 0,l.findSourceMapURL,"updateCustomer"),d=(0,l.createServerReference)("7f2033791f0cbdaf286b9ad01eb95b37e1ea5ea250",l.callServer,void 0,l.findSourceMapURL,"updateCustomerAddress"),p=(0,l.createServerReference)("7f8181c26e2f699a0e551d1e37a4b677b8789036a1",l.callServer,void 0,l.findSourceMapURL,"addCustomerAddress"),m=(0,l.createServerReference)("7fd9f44c8b1fcad73f97d8919530753ebc4364880f",l.callServer,void 0,l.findSourceMapURL,"deleteCustomerAddress"),h=(0,l.createServerReference)("400584a2a19089eab10fa1d9c4100163e5a0f8be62",l.callServer,void 0,l.findSourceMapURL,"signup");var f=r(81793);let v=()=>(0,s.I)({queryKey:["customer"],queryFn:async()=>await i(),staleTime:3e5});f.z.object({email:f.z.string().email(),password:f.z.string().min(6),redirect_url:f.z.string().optional().nullable()});let b=e=>{let t=(0,a.jE)();return(0,n.n)({mutationKey:["login"],mutationFn:async e=>o({...e}),onSuccess:async function(){for(var r,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await t.invalidateQueries({queryKey:["customer"]}),await (null==e||null==(r=e.onSuccess)?void 0:r.call(e,...a))},...e})},x=e=>{let t=(0,a.jE)();return(0,n.n)({mutationKey:["signout"],mutationFn:async e=>u(e),onSuccess:async function(){for(var r,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await t.invalidateQueries({queryKey:["customer"]}),await (null==e||null==(r=e.onSuccess)?void 0:r.call(e,...a))},...e})},y=f.z.object({first_name:f.z.string().min(1),last_name:f.z.string().min(1),phone:f.z.string().optional().nullable()}),g=e=>{let t=(0,a.jE)();return(0,n.n)({mutationKey:["update-customer"],mutationFn:async e=>c(e),onSuccess:async function(){for(var r,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await t.invalidateQueries({queryKey:["customer"]}),await (null==e||null==(r=e.onSuccess)?void 0:r.call(e,...a))},...e})},j=f.z.object({first_name:f.z.string().min(1),last_name:f.z.string().min(1),company:f.z.string().optional().nullable(),address_1:f.z.string().min(1),address_2:f.z.string().optional().nullable(),city:f.z.string().min(1),postal_code:f.z.string().min(1),province:f.z.string().optional().nullable(),country_code:f.z.string().min(2),phone:f.z.string().optional().nullable()}),w=(e,t)=>{let r=(0,a.jE)();return(0,n.n)({mutationKey:["add-address","update-address"],mutationFn:async t=>e?d(e,t):p(t),onSuccess:async function(){for(var e,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await r.invalidateQueries({queryKey:["customer"]}),await (null==t||null==(e=t.onSuccess)?void 0:e.call(t,...a))},...t})},S=e=>{let t=(0,a.jE)();return(0,n.n)({mutationKey:["delete-address"],mutationFn:async e=>m(e),onSuccess:async function(){for(var r,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await t.invalidateQueries({queryKey:["customer"]}),await (null==e||null==(r=e.onSuccess)?void 0:r.call(e,...a))},...e})},N=f.z.object({email:f.z.string().email(),first_name:f.z.string().min(1),last_name:f.z.string().min(1),phone:f.z.string().optional().nullable(),password:f.z.string().min(6)}),R=e=>{let t=(0,a.jE)();return(0,n.n)({mutationKey:["signup"],mutationFn:async e=>h(e),onSuccess:async function(){for(var r,s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];await t.invalidateQueries({queryKey:["customer"]}),await (null==e||null==(r=e.onSuccess)?void 0:r.call(e,...a))},...e})}},90604:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(32432),a=r(72950);function n(e,t){return(0,a.t)(e,s.$,t)}}},e=>{var t=t=>e(e.s=t);e.O(0,[8566,5278,534,4550,8775,6303,4724,5740,4323,7358],()=>t(2301)),_N_E=e.O()}]);