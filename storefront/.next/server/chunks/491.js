"use strict";exports.id=491,exports.ids=[491],exports.modules={2166:(e,s,t)=>{t.d(s,{KC:()=>n,UiRadioGroup:()=>c,jC:()=>o,wE:()=>i});var r=t(18928),a=t(63037),l=t(81010);let c=({...e})=>(0,r.jsx)(a.z6,{...e}),i=({variant:e="ghost",className:s,...t})=>(0,r.jsx)(a.sx,{...t,className:(0,l.QP)("flex gap-2 group cursor-pointer items-center","outline"===e&&"p-4 gap-4 border border-grayscale-200 hover:border-grayscale-500 transition-colors",s)}),o=({className:e,...s})=>(0,r.jsx)("span",{...s,className:(0,l.QP)("border border-grayscale-200 w-4 h-4 block transition-colors rounded-full group-hover:border-grayscale-600 group-data-[selected]:border-black group-data-[selected]:border-6 group-hover:group-data-[selected]:border-grayscale-600",e)}),n=({className:e,...s})=>(0,r.jsx)("span",{...s,className:e})},3747:(e,s,t)=>{t.d(s,{A:()=>i});var r=t(78738),a=t(68032),l=t(27957),c=t(14860);let i=()=>(0,r.jsx)(a.PE,{className:"gap-y-10 md:gap-y-16 mb-16 md:mb-20",children:(0,l.A)(9).map(e=>(0,r.jsx)(a.$B,{className:"md:!col-span-4 !col-span-6",children:(0,r.jsx)(c.A,{})},e))})},4926:(e,s,t)=>{t.d(s,{default:()=>w});var r=t(18928),a=t(53502),l=t(91153),c=t(63678),i=t(85903),o=t(27080),n=t(59787),d=t(37204),m=t(13984);let h=({category:e,categories:s,setQueryParams:t})=>(0,r.jsxs)(m.UiDialogTrigger,{children:[(0,r.jsxs)(n.F$,{className:"w-35",children:[(0,r.jsx)("span",{children:"Category"}),(0,r.jsx)(n.mt,{})]}),(0,r.jsx)(i.A,{className:"w-64",placement:"bottom left",children:(0,r.jsx)(n.$i,{children:(0,r.jsx)(o.$Q,{value:e??[],onChange:e=>{t("category",e)},className:"max-h-50 overflow-scroll",children:Object.entries(s).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"p-4",children:[(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})}),(0,r.jsx)(d.cT,{children:s})]},e))})})})]}),x=({collection:e,collections:s,setQueryParams:t})=>(0,r.jsxs)(m.UiDialogTrigger,{children:[(0,r.jsxs)(n.F$,{className:"w-35",children:[(0,r.jsx)("span",{children:"Collection"}),(0,r.jsx)(n.mt,{})]}),(0,r.jsx)(i.A,{className:"w-64",placement:"bottom left",children:(0,r.jsx)(n.$i,{children:(0,r.jsx)(o.$Q,{value:e??[],onChange:e=>{t("collection",e)},className:"max-h-50 overflow-scroll",children:Object.entries(s).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"p-4",children:[(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})}),(0,r.jsx)(d.cT,{children:s})]},e))})})})]});var u=t(55056),j=t(20808),p=t(54404);let f=({collections:e,collection:s,categories:t,category:a,types:l,type:c,setMultipleQueryParams:i})=>(0,r.jsxs)(m.UiDialogTrigger,{children:[(0,r.jsx)(j.Button,{size:"sm",variant:"outline",iconName:"plus",iconPosition:"end",className:"md:hidden border-grayscale-200",children:"Filter"}),(0,r.jsx)(p.UiModalOverlay,{className:"p-0",children:(0,r.jsx)(p.UiModal,{animateFrom:"bottom",className:"top-36 w-full pb-26 max-w-full",children:(0,r.jsx)(m.UiDialog,{children:({close:n})=>(0,r.jsxs)("form",{onSubmit:e=>{let s=new FormData(e.currentTarget),t=s.getAll("collection").map(e=>e.toString());i({collection:t,category:s.getAll("category").map(e=>e.toString()),type:s.getAll("type").map(e=>e.toString())}),n()},children:[e&&Object.keys(e).length>0&&(0,r.jsxs)(o.$Q,{className:"flex flex-col",name:"collection",defaultValue:s??[],children:[(0,r.jsx)(u.J,{className:"block text-md font-semibold mb-3",children:"Collections"}),Object.entries(e).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"justify-between py-3",children:[(0,r.jsx)(d.cT,{children:s}),(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})})]},e))]}),e&&Object.keys(e).length>0&&(t&&Object.keys(t).length>0||l&&Object.keys(l).length>0)&&(0,r.jsx)("hr",{className:"my-3 text-grayscale-200"}),t&&Object.keys(t).length>0&&(0,r.jsxs)(o.$Q,{className:"flex flex-col",name:"category",defaultValue:a??[],children:[(0,r.jsx)(u.J,{className:"block text-md font-semibold mb-3",children:"Categories"}),Object.entries(t).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"justify-between py-3",children:[(0,r.jsx)(d.cT,{children:s}),(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})})]},e))]}),t&&Object.keys(t).length>0&&l&&Object.keys(l).length>0&&(0,r.jsx)("hr",{className:"my-3 text-grayscale-200"}),l&&Object.keys(l).length>0&&(0,r.jsxs)(o.$Q,{className:"flex flex-col",name:"type",defaultValue:c??[],children:[(0,r.jsx)(u.J,{className:"block text-md font-semibold mb-3",children:"Types"}),Object.entries(l).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"justify-between py-3",children:[(0,r.jsx)(d.cT,{children:s}),(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})})]},e))]}),(0,r.jsx)("footer",{className:"flex items-center h-21 fixed bottom-0 left-0 w-full bg-white px-6 border-t border-grayscale-100",children:(0,r.jsx)(j.Button,{type:"submit",isFullWidth:!0,children:"Show results"})})]})})})})]});var g=t(2166);let b=({sortBy:e,setQueryParams:s})=>(0,r.jsxs)(m.UiDialogTrigger,{children:[(0,r.jsx)(j.Button,{size:"sm",variant:"outline",iconName:"chevron-down",iconPosition:"end",className:"md:hidden border-grayscale-200",children:"Sort by"}),(0,r.jsx)(p.UiModalOverlay,{className:"p-0",children:(0,r.jsx)(p.UiModal,{animateFrom:"bottom",className:"w-full rounded-none max-w-full shadow-none pb-21",children:(0,r.jsx)(m.UiDialog,{children:({close:t})=>(0,r.jsxs)("form",{onSubmit:e=>{let r=new FormData(e.currentTarget);s("sortBy",r.get("sortBy")?.toString()),t()},children:[(0,r.jsxs)(g.UiRadioGroup,{className:"flex flex-col mb-5",name:"sortBy",defaultValue:e,"aria-label":"Sort by",children:[(0,r.jsx)(u.J,{className:"block text-md font-semibold mb-3",children:"Sort by"}),(0,r.jsxs)(g.wE,{value:"created_at",className:"justify-between py-3",children:[(0,r.jsx)(g.KC,{children:"Latest Arrivals"}),(0,r.jsx)(g.jC,{})]}),(0,r.jsxs)(g.wE,{value:"price_asc",className:"justify-between py-3",children:[(0,r.jsx)(g.KC,{children:"Lowest price"}),(0,r.jsx)(g.jC,{})]}),(0,r.jsxs)(g.wE,{value:"price_desc",className:"justify-between py-3",children:[(0,r.jsx)(g.KC,{children:"Highest price"}),(0,r.jsx)(g.jC,{})]})]}),(0,r.jsx)("footer",{className:"flex items-center h-21 fixed bottom-0 left-0 w-full bg-white px-6 border-t border-grayscale-100",children:(0,r.jsx)(j.Button,{type:"submit",isFullWidth:!0,children:"Show results"})})]})})})})]});var y=t(73480);let v=({sortBy:e,setQueryParams:s})=>{let t=e=>{s("sortBy",e)};return(0,r.jsxs)(y.l6,{placeholder:"Sort by",selectedKey:e||"sortBy",onSelectionChange:e=>{t(e)},className:"max-md:hidden","aria-label":"Sort by",children:[(0,r.jsxs)(n.F$,{children:[(0,r.jsx)(n.eE,{}),(0,r.jsx)(n.mt,{})]}),(0,r.jsx)(i.A,{className:"w-60",placement:"bottom right",children:(0,r.jsxs)(n.wz,{children:[(0,r.jsx)(n.vA,{id:"created_at",children:"Latest Arrivals"}),(0,r.jsx)(n.vA,{id:"price_asc",children:"Lowest price"}),(0,r.jsx)(n.vA,{id:"price_desc",children:"Highest price"})]})})]})},N=({type:e,types:s,setQueryParams:t})=>(0,r.jsxs)(m.UiDialogTrigger,{children:[(0,r.jsxs)(n.F$,{className:"w-35",children:[(0,r.jsx)("span",{children:"Type"}),(0,r.jsx)(n.mt,{})]}),(0,r.jsx)(i.A,{className:"w-64",placement:"bottom left",children:(0,r.jsx)(n.$i,{children:(0,r.jsx)(o.$Q,{value:e??[],onChange:e=>{t("type",e)},className:"max-h-50 overflow-scroll",children:Object.entries(s).map(([e,s])=>(0,r.jsxs)(d.Y6,{value:e,className:"p-4",children:[(0,r.jsx)(d.x1,{children:(0,r.jsx)(d.Fr,{})}),(0,r.jsx)(d.cT,{children:s})]},e))})})})]}),w=({title:e="Shop",collections:s,collection:t,categories:i,category:o,types:n,type:d,sortBy:m,"data-testid":u})=>{let j=(0,a.useRouter)(),p=(0,a.usePathname)(),g=(0,a.useSearchParams)(),y=(0,l.useCallback)((e,s)=>{let t=new URLSearchParams(g);Array.isArray(s)?(t.delete(e),s.forEach(s=>t.append(e,s))):t.set(e,s),j.push(`${p}?${t.toString()}`,{scroll:!1})},[p,j,g]),w=(0,l.useCallback)(e=>{let s=new URLSearchParams(g);Object.entries(e).forEach(([e,t])=>{Array.isArray(t)?(s.delete(e),t.forEach(t=>s.append(e,t))):s.set(e,t)}),j.push(`${p}?${s.toString()}`,{scroll:!1})},[g,p,j]);return(0,r.jsx)(c.PE,{className:"mb-6 md:mb-8",children:(0,r.jsxs)(c.$B,{children:[(0,r.jsx)("h2",{className:"text-md md:text-2xl mb-6 md:mb-7",id:"products",children:e}),(0,r.jsxs)("div",{className:"flex justify-between gap-10",children:[(0,r.jsx)(f,{collections:s,collection:t,categories:i,category:o,types:n,type:d,setMultipleQueryParams:w}),(0,r.jsx)(b,{sortBy:m,setQueryParams:y}),(0,r.jsxs)("div",{className:"flex justify-between gap-4 max-md:hidden",children:[void 0!==s&&(0,r.jsx)(x,{collections:s,collection:t,setQueryParams:y}),void 0!==i&&(0,r.jsx)(h,{categories:i,category:o,setQueryParams:y}),void 0!==n&&(0,r.jsx)(N,{types:n,type:d,setQueryParams:y})]}),(0,r.jsx)(v,{sortBy:m,setQueryParams:y,"data-testid":u})]})]})})}},6608:(e,s,t)=>{t.d(s,{E:()=>l});var r=t(78738),a=t(24020);let l=({colorScheme:e="grayscale",className:s,...t})=>(0,r.jsx)("div",{...t,className:(0,a.QP)("relative overflow-hidden shrink-0 rounded-2xs before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:to-transparent","grayscale"===e&&"bg-grayscale-50 before:via-white","white"===e&&"bg-white before:via-grayscale-50",s)})},14860:(e,s,t)=>{t.d(s,{A:()=>l});var r=t(78738),a=t(6608);let l=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(a.E,{className:"mb-4 md:mb-6 w-full aspect-square"}),(0,r.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.E,{className:"mb-2.5 h-3 md:h-5 w-22"}),(0,r.jsx)(a.E,{className:"max-md:hidden h-3 md:h-3 w-18"})]}),(0,r.jsx)(a.E,{className:"h-3 md:h-6 w-18 md:w-22"})]})]})},21307:(e,s,t)=>{t.d(s,{default:()=>P});var r=t(18928),a=t(25673),l=t(39453),c=t(56522);function i({product:e}){let{cheapestPrice:s}=(0,c.X)({product:e}),t=s&&s.calculated_price_number<(s?.original_price_number||0);return(0,r.jsxs)(a.LocalizedLink,{href:`/products/${e.handle}`,children:[(0,r.jsx)(l.A,{thumbnail:e.thumbnail,images:e.images,size:"square",className:"mb-4 md:mb-6"}),(0,r.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,r.jsxs)("div",{className:"max-md:text-xs",children:[(0,r.jsx)("p",{className:"mb-1",children:e.title}),e.collection&&(0,r.jsx)("p",{className:"text-grayscale-500 text-xs max-md:hidden",children:e.collection.title})]}),s?t?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold max-md:text-xs text-red-primary",children:s.calculated_price}),(0,r.jsx)("p",{className:"max-md:text-xs text-grayscale-500 line-through",children:s.original_price})]}):(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"font-semibold max-md:text-xs",children:s.calculated_price})}):null]})]})}var o=t(63678),n=t(38496),d=t(53502);let m=()=>{let e=(0,d.usePathname)();return(0,r.jsx)(o.$B,{className:"pt-28",children:(0,r.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-md text-center mb-2",children:"No results match! We may not have any item in that category at the moment"})}),(0,r.jsx)(n.N_,{scroll:!1,href:e,variant:"underline",className:"inline-flex md:pb-0",children:"Clear filters"})]})})};var h=t(63056),x=t(91153),u=t(20917),j=t(55610),p=t(17602),f=class extends j.${constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,p.PL)()})}getOptimisticResult(e){return e.behavior=(0,p.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,s){let{state:t}=e,r=super.createResult(e,s),{isFetching:a,isRefetching:l,isError:c,isRefetchError:i}=r,o=t.fetchMeta?.fetchMore?.direction,n=c&&"forward"===o,d=a&&"forward"===o,m=c&&"backward"===o,h=a&&"backward"===o;return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,p.rB)(s,t.data),hasPreviousPage:(0,p.RQ)(s,t.data),isFetchNextPageError:n,isFetchingNextPage:d,isFetchPreviousPageError:m,isFetchingPreviousPage:h,isRefetchError:i&&!n&&!m,isRefetching:l&&!d&&!h}}},g=t(17165);let b=({page:e,queryParams:s,sortBy:t,countryCode:r})=>{var a;return a={initialPageParam:e,queryKey:["products",s,t,r],queryFn:async({pageParam:e})=>(0,u.NT)({page:e,queryParams:s,sortBy:t,countryCode:r}),getNextPageParam:e=>{if(e.nextPage)return Math.ceil(e.nextPage/(e.queryParams?.limit||12))+1}},(0,g.t)(a,f,void 0)};var y=t(24167),v=t(54034);let N=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(v.E,{className:"mb-4 md:mb-6 w-full aspect-square"}),(0,r.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(v.E,{className:"mb-2.5 h-3 md:h-5 w-22"}),(0,r.jsx)(v.E,{className:"max-md:hidden h-3 md:h-3 w-18"})]}),(0,r.jsx)(v.E,{className:"h-3 md:h-6 w-18 md:w-22"})]})]}),w=()=>(0,r.jsx)(o.PE,{className:"gap-y-10 md:gap-y-16 mb-16 md:mb-20",children:(0,y.A)(9).map(e=>(0,r.jsx)(o.$B,{className:"md:!col-span-4 !col-span-6",children:(0,r.jsx)(N,{})},e))}),P=(0,h.R)(function({sortBy:e,page:s,collectionId:t,categoryId:a,typeId:l,productsIds:c,countryCode:n}){let d={limit:12};t&&(d.collection_id=Array.isArray(t)?t:[t]),a&&(d.category_id=Array.isArray(a)?a:[a]),l&&(d.type_id=Array.isArray(l)?l:[l]),c&&(d.id=c),"created_at"===e&&(d.order="created_at");let h=b({page:s,queryParams:d,sortBy:e,countryCode:n}),u=x.useRef(null);return(x.useEffect(()=>{if(!u.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&h.hasNextPage&&h.fetchNextPage()},{rootMargin:"100px"});return e.observe(u.current),()=>e.disconnect()},[h,u]),h.isPending)?(0,r.jsx)(w,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.PE,{className:"gap-y-10 md:gap-y-16 mb-16",children:[h?.data?.pages[0]?.response?.products?.length&&(!c||c.length>0)?h?.data?.pages.flatMap(e=>e?.response?.products.map(e=>(0,r.jsx)(o.$B,{className:"md:!col-span-4 !col-span-6",children:(0,r.jsx)(i,{product:e})},e.id))):(0,r.jsx)(m,{}),h.hasNextPage&&(0,r.jsx)("div",{ref:u})]})})})},24167:(e,s,t)=>{t.d(s,{A:()=>r});let r=e=>Array.from(Array(e).keys())},27957:(e,s,t)=>{t.d(s,{A:()=>r});let r=e=>Array.from(Array(e).keys())},37204:(e,s,t)=>{t.d(s,{Fr:()=>n,Y6:()=>i,cT:()=>d,x1:()=>o});var r=t(18928),a=t(27080),l=t(81010),c=t(87491);let i=({className:e,...s})=>(0,r.jsx)(a.Sc,{...s,className:(0,l.QP)("flex gap-2 group cursor-pointer items-center",e)}),o=({className:e,...s})=>(0,r.jsx)("div",{...s,className:(0,l.QP)("border border-grayscale-200 w-4 h-4 flex items-center group-hover:border-grayscale-600 justify-center group-data-[selected=true]:bg-black group-data-[selected=true]:border-black group-hover:group-data-[selected=true]:border-grayscale-600 group-hover:group-data-[selected=true]:bg-grayscale-600 transition-colors",e)}),n=({name:e="check",className:s,...t})=>(0,r.jsx)(c.I,{...t,name:e,className:(0,l.QP)("w-3 h-3 group-data-[selected=false]:opacity-0 group-data-[selected=true]:opacity-1 text-white",s)}),d=({className:e,...s})=>(0,r.jsx)("span",{...s,className:e})},48623:(e,s,t)=>{t.d(s,{default:()=>r});let r=(0,t(75362).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/templates/paginated-products.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/templates/paginated-products.tsx","default")},53214:(e,s,t)=>{t.d(s,{He:()=>a});var r=t(17525);let a=async function(e=0,s=100,t){return r.x.client.fetch("/store/product-categories",{query:{limit:s,offset:e,fields:t?t.join(","):void 0},next:{tags:["categories"]},cache:"force-cache"})}},54034:(e,s,t)=>{t.d(s,{E:()=>l});var r=t(18928),a=t(81010);let l=({colorScheme:e="grayscale",className:s,...t})=>(0,r.jsx)("div",{...t,className:(0,a.QP)("relative overflow-hidden shrink-0 rounded-2xs before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:to-transparent","grayscale"===e&&"bg-grayscale-50 before:via-white","white"===e&&"bg-white before:via-grayscale-50",s)})},58173:(e,s,t)=>{t.d(s,{default:()=>r});let r=(0,t(75362).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/components/refinement-list/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/components/refinement-list/index.tsx","default")},66899:(e,s,t)=>{t.d(s,{J:()=>a});var r=t(17525);let a=async function(e=0,s=100,t){return r.x.client.fetch("/store/custom/product-types",{query:{limit:s,offset:e,fields:t?t.join(","):void 0},next:{tags:["product-types"]},cache:"force-cache"}).then(({product_types:e,count:s})=>({productTypes:e,count:s}))}}};