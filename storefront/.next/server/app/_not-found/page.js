(()=>{var e={};e.id=492,e.ids=[492],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},52682:(e,a,r)=>{"use strict";r.r(a),r.d(a,{"002c5bb16f8164036e23d77c16d25fe1960d36f37d":()=>t.WY,"00e3d6f687e793f6332be887f22a84da01aa7fd2ee":()=>t.N$,"00f831bae1afdc3e33c8f7992970c73490c7def830":()=>t.wH,"00ff12d389af88d4458c65de0768406cb58f52162e":()=>g,"4003c799ef7c95551d62a48fcb98967f454aeb6c44":()=>t.KG,"400f0cb1074e55543f8efe5ae481fcd2ef9255476b":()=>p,"40122b9110111bdd9cf21ad9ff60b4207ef1e9c327":()=>t.ZM,"4016f63f32bfb7857cb7a9a327a3f1264b6223592f":()=>t.xI,"40421f9f7c2cda5619a9c1d444accc25c3c7c1bbe4":()=>t.JZ,"40520e699a6ff697823dfa3b6fd98f63b944cab434":()=>t.xe,"405af356663d5846fee25d4ee009a3263d308e6cd7":()=>b,"409261f22e255a4c9bd79060e925a06953010949b6":()=>t.Zy,"40928b11a77a7b92702ec7bfa2aeaade10faf74239":()=>j,"40ba0d3cc736d57c0ccfc670300e2bea188fe0e79f":()=>m,"40bb17979fd9a835c521da8b4d0162f402aa8e44e7":()=>t.U3,"40c2c66adb3d8e635bbeea9aabe8e2df69372b9ba4":()=>t.E1,"40c3103ea1af37d20f334f7f1f13a381c2ea704e28":()=>P,"40d3e2e152dc3b36837a9e316255b861573f7bf4a9":()=>t.eB,"40e6de823ab8c46eda88fc5da916c6113223797d64":()=>t.bE,"609c30065f7482c8c049472f472cfdb213549fb359":()=>A,"60a4975b86b3aab38397337b8efecaf0aee901aa55":()=>t.Ye,"60d2c14548087b9073b50c7b81be4ea16a59d8280f":()=>z,"60feaaf27dafe55ae66830e20cbb0cf82d44326a92":()=>t.M7,"7f8f641788a0a335dfaf4cb5bd598e4a4ea35cfcb7":()=>w,"7f9167a3b046be6e33cc732b1966293b140712e3a9":()=>h,"7f9bb8d2e23af4767027971f86a47e6c94af423097":()=>l,"7fb53f57a8e8e50723668c35754f618cca86fe6e3e":()=>_,"7fbd285d370b7446153a391d67f1b9668a7aa27613":()=>u});var t=r(28693),s=r(52376);r(2134);var c=r(58602),o=r(95070),d=r(58133),n=r(1530),i=r(63420),f=r(60930);let u=async function(){return await n.x.client.fetch("/store/customers/me",{next:{tags:["customer"]},headers:{...await (0,i.z5)()},cache:"no-store"}).then(({customer:e})=>e).catch(()=>null)},l=async function(e){return n.x.store.customer.update({first_name:e.first_name,last_name:e.last_name,phone:e.phone??void 0},{},await (0,i.z5)()).then(()=>((0,d.revalidateTag)("customer"),{state:"success"})).catch(()=>((0,d.revalidateTag)("customer"),{state:"error",error:"Failed to update customer personal information"}))};async function m(e){try{let a=await n.x.auth.register("customer","emailpass",{email:e.email,password:e.password}),r={authorization:`Bearer ${a}`},{customer:t}=await n.x.store.customer.create({email:e.email,first_name:e.first_name,last_name:e.last_name,phone:e.phone??void 0},{},r),s=await n.x.auth.login("customer","emailpass",{email:e.email,password:e.password});if("object"==typeof s)return(0,o.redirect)(s.location),{success:!0,customer:t};await (0,i.O5)(s),await n.x.client.fetch("/store/custom/customer/send-welcome-email",{method:"POST",headers:await (0,i.z5)()}),(0,d.revalidateTag)("customer");let c=await (0,i.Cy)();return c&&(await n.x.store.cart.transferCart(c,{},await (0,i.z5)()),(0,d.revalidateTag)("cart")),{success:!0,customer:t}}catch(e){return{success:!1,error:e instanceof Error?e.message:`${e}`}}}async function b(e){let a=e.redirect_url;try{let r=await n.x.auth.login("customer","emailpass",{email:e.email,password:e.password});if("object"==typeof r)return{success:!0,redirectUrl:r.location};await (0,i.O5)(r),(0,d.revalidateTag)("customer");let t=await (0,i.Cy)();return t&&(await n.x.store.cart.transferCart(t,{},await (0,i.z5)()),(0,d.revalidateTag)("cart")),{success:!0,redirectUrl:a||"/"}}catch(e){return{success:!1,message:e instanceof Error?e.message:`${e}`}}}async function p(e){return await n.x.auth.logout(),await (0,i.QF)(),(0,d.revalidateTag)("customer"),e}let h=async e=>n.x.store.customer.createAddress({first_name:e.first_name,last_name:e.last_name,company:e.company??void 0,address_1:e.address_1,address_2:e.address_2??void 0,city:e.city,postal_code:e.postal_code,province:e.province??void 0,country_code:e.country_code,phone:e.phone??void 0},{},await (0,i.z5)()).then(({customer:e})=>((0,d.revalidateTag)("customer"),{addressId:e.addresses[e.addresses.length-1].id,success:!0,error:null})).catch(e=>((0,d.revalidateTag)("customer"),{addressId:"",success:!1,error:e.toString()})),_=async e=>{if("string"!=typeof e)throw Error("Invalid input data");await n.x.store.customer.deleteAddress(e,await (0,i.z5)()).then(()=>({success:!0,error:null})).catch(e=>({success:!1,error:e.toString()})),(0,d.revalidateTag)("customer")},w=async(e,a)=>{if(!e)throw Error("Invalid input data");return n.x.store.customer.updateAddress(e,{first_name:a.first_name,last_name:a.last_name,company:a.company??void 0,address_1:a.address_1,address_2:a.address_2??void 0,city:a.city,postal_code:a.postal_code,province:a.province??void 0,country_code:a.country_code,phone:a.phone??void 0},{},await (0,i.z5)()).then(()=>((0,d.revalidateTag)("customer"),{addressId:e,success:!0,error:null})).catch(a=>((0,d.revalidateTag)("customer"),{addressId:e,success:!1,error:a.toString()}))};async function g(){let e=await u();return e?(await n.x.auth.resetPassword("logged-in-customer","emailpass",{identifier:e.email}),{success:!0}):{success:!1,error:"No customer found"}}let v=c.z.object({email:c.z.string().email(),token:c.z.string()}),x=c.z.object({type:c.z.literal("reset"),current_password:c.z.string().min(6),new_password:c.z.string().min(6),confirm_new_password:c.z.string().min(6)}),y=c.z.object({type:c.z.literal("forgot"),new_password:c.z.string().min(6),confirm_new_password:c.z.string().min(6)});async function z(e,a){let r=v.parse(e);if("reset"===a.type)try{await n.x.auth.login("customer","emailpass",{email:r.email,password:a.current_password})}catch(e){return{...r,state:"error",error:"Wrong password"}}return n.x.auth.updateProvider("reset"===a.type?"logged-in-customer":"customer","emailpass",{email:r.email,password:a.new_password},r.token).then(()=>({...r,state:"success"})).catch(()=>({...r,state:"error",error:"Failed to update password"}))}async function A(e,a){return n.x.auth.resetPassword("customer","emailpass",{identifier:a.email}).then(()=>({state:"success"})).catch(()=>({state:"error",error:"Failed to reset password"}))}async function P(e){return e?n.x.store.customer.updateAddress(e,{is_default_shipping:!0},{},await (0,i.z5)()).then(()=>((0,d.revalidateTag)("customer"),{success:!0,error:null})).catch(e=>((0,d.revalidateTag)("customer"),{success:!1,error:e.toString()})):{success:!1,error:"No address id provided"}}async function j(e){return e?n.x.store.customer.updateAddress(e,{is_default_billing:!0},{},await (0,i.z5)()).then(()=>((0,d.revalidateTag)("customer"),{success:!0,error:null})).catch(e=>((0,d.revalidateTag)("customer"),{success:!1,error:e.toString()})):{success:!1,error:"No address id provided"}}c.z.discriminatedUnion("type",[x,y]),c.z.object({email:c.z.string().email()}),(0,f.D)([u,l,m,b,p,h,_,w,g,z,A,P,j]),(0,s.A)(u,"7fbd285d370b7446153a391d67f1b9668a7aa27613",null),(0,s.A)(l,"7f9bb8d2e23af4767027971f86a47e6c94af423097",null),(0,s.A)(m,"40ba0d3cc736d57c0ccfc670300e2bea188fe0e79f",null),(0,s.A)(b,"405af356663d5846fee25d4ee009a3263d308e6cd7",null),(0,s.A)(p,"400f0cb1074e55543f8efe5ae481fcd2ef9255476b",null),(0,s.A)(h,"7f9167a3b046be6e33cc732b1966293b140712e3a9",null),(0,s.A)(_,"7fb53f57a8e8e50723668c35754f618cca86fe6e3e",null),(0,s.A)(w,"7f8f641788a0a335dfaf4cb5bd598e4a4ea35cfcb7",null),(0,s.A)(g,"00ff12d389af88d4458c65de0768406cb58f52162e",null),(0,s.A)(z,"60d2c14548087b9073b50c7b81be4ea16a59d8280f",null),(0,s.A)(A,"609c30065f7482c8c049472f472cfdb213549fb359",null),(0,s.A)(P,"40c3103ea1af37d20f334f7f1f13a381c2ea704e28",null),(0,s.A)(j,"40928b11a77a7b92702ec7bfa2aeaade10faf74239",null)},52932:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76900:()=>{},99993:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>f,routeModule:()=>l,tree:()=>i});var t=r(95682),s=r(48661),c=r(77677),o=r.n(c),d=r(45602),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(a,n);let i={children:["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,86939)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,58126,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,78263,23)),"next/dist/client/components/unauthorized-error"]}]}.children,f=[],u={require:r,loadChunk:()=>Promise.resolve()},l=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[790,216,565],()=>r(99993));module.exports=t})();