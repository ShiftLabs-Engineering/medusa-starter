(()=>{var e={};e.id=536,e.ids=[536],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23420:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f,metadata:()=>p});var r=s(78738);s(83723);var o=s(5137),n=s(24020),a=s(3145),i=s(54819),l=s(39330),c=s(18329),d=s(99559),m=s(39398),u=s(83161);let p={title:"Account - Orders",description:"Check your order history"},h=({order:e,className:t})=>"canceled"===e.fulfillment_status?(0,r.jsx)(c.t,{iconName:"close",isActive:!0,className:(0,n.QP)("self-start mt-auto",t),children:"Canceled"}):"delivered"===e.fulfillment_status?(0,r.jsx)(c.t,{iconName:"check",isActive:!0,className:(0,n.QP)("self-start mt-auto",t),children:"Delivered"}):"shipped"===e.fulfillment_status||"partially_delivered"===e.fulfillment_status?(0,r.jsx)(c.t,{iconName:"truck",isActive:!0,className:(0,n.QP)("self-start mt-auto",t),children:"Delivering"}):(0,r.jsx)(c.t,{iconName:"package",isActive:!0,className:(0,n.QP)("self-start mt-auto",t),children:"Packing"});async function f({searchParams:e}){let{page:t}=await e;await (0,m.xt)().catch(()=>null)||(0,u.redirect)("/");let s=t?parseInt(t,10):1,{orders:n,count:c}=await (0,a.M)(6,(s-1)*6),p=Math.ceil(c/6);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-md md:text-lg mb-8 md:mb-13",children:"My orders"}),n.length>0?(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)("div",{className:"flex flex-col gap-8 sm:gap-4",children:n.map(e=>(0,r.jsxs)("div",{className:"rounded-xs border border-grayscale-200 flex flex-col gap-6 sm:gap-8 md:gap-6 lg:gap-8 p-4",children:[(0,r.jsxs)("div",{className:"flex max-sm:flex-col-reverse md:flex-col-reverse lg:flex-row gap-y-6 gap-x-10 justify-between",children:[(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)(h,{order:e,className:"sm:hidden mb-6"}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsxs)(d.LocalizedLink,{href:`/account/my-orders/${e.id}`,className:"text-md",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Order:"})," ",e.display_id]})}),(0,r.jsxs)("p",{className:"text-grayscale-500",children:["Order date:"," ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)("div",{className:"flex gap-3 overflow-x-auto sm:max-w-91 md:max-w-full lg:max-w-91",children:e.items?.filter(e=>e.thumbnail).map(e=>(0,r.jsx)(d.LocalizedLink,{href:`/products/${e.product_handle}`,className:"shrink-0 w-19 aspect-[3/4] rounded-2xs relative overflow-hidden",children:(0,r.jsx)(o.default,{src:e.thumbnail,alt:e.title,fill:!0,className:"object-cover"})},e.id))})]}),(0,r.jsxs)("div",{className:"flex max-sm:flex-col justify-between gap-6",children:[(0,r.jsx)(h,{order:e,className:"max-sm:hidden"}),(0,r.jsx)(l.ButtonLink,{href:`/account/my-orders/${e.id}`,variant:"outline",size:"md",className:"sm:self-end md:self-start lg:self-end sm:hidden",children:"Check details"}),(0,r.jsx)(l.ButtonLink,{href:`/account/my-orders/${e.id}`,variant:"outline",size:"sm",className:"sm:self-end md:self-start lg:self-end max-sm:hidden",children:"Check details"})]})]},e.id))}),p>1&&(0,r.jsx)(i.Pagination,{page:s,totalPages:p})]}):(0,r.jsx)("p",{className:"text-md mt-16",children:"You haven't ordered anything yet"})]})}},28354:e=>{"use strict";e.exports=require("util")},29169:(e,t,s)=>{"use strict";s.d(t,{Pagination:()=>a});var r=s(18928),o=s(53502),n=s(81010);function a({page:e,totalPages:t,"data-testid":s}){let a=(0,o.useRouter)(),i=(0,o.usePathname)(),l=(0,o.useSearchParams)(),c=(e,t)=>Array.from({length:t-e+1},(t,s)=>e+s),d=e=>{let t=new URLSearchParams(l);t.set("page",e.toString()),a.push(`${i}?${t.toString()}`)},m=(e,t,s)=>(0,r.jsx)("button",{className:(0,n.QP)("txt-xlarge-plus text-fg-muted dark:text-fg-muted-dark px-1",s&&"text-fg-base dark:text-fg-base-dark hover:text-fg-subtle dark:hover:text-fg-subtle-dark"),disabled:s,onClick:()=>d(e),children:t},e),u=e=>(0,r.jsx)("span",{className:"txt-xlarge-plus text-fg-muted dark:text-fg-muted-dark items-center cursor-default",children:"..."},e);return(0,r.jsx)("div",{className:"flex justify-center w-full mt-12",children:(0,r.jsx)("div",{className:"flex gap-2 items-end","data-testid":s,children:(()=>{let s=[];return t<=7?s.push(...c(1,t).map(t=>m(t,t,t===e))):e<=4?(s.push(...c(1,5).map(t=>m(t,t,t===e))),s.push(u("ellipsis1")),s.push(m(t,t,t===e))):e>=t-3?(s.push(m(1,1,1===e)),s.push(u("ellipsis2")),s.push(...c(t-4,t).map(t=>m(t,t,t===e)))):(s.push(m(1,1,1===e)),s.push(u("ellipsis3")),s.push(...c(e-1,e+1).map(t=>m(t,t,t===e))),s.push(u("ellipsis4")),s.push(m(t,t,t===e))),s})()})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35955:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,26128,23)),Promise.resolve().then(s.bind(s,39330)),Promise.resolve().then(s.bind(s,99559)),Promise.resolve().then(s.bind(s,54819))},39330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Button:()=>n,ButtonAnchor:()=>a,ButtonLink:()=>i,getButtonClassNames:()=>o});var r=s(75362);let o=(0,r.registerClientReference)(function(){throw Error("Attempted to call getButtonClassNames() from the server but getButtonClassNames is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Button.tsx","getButtonClassNames"),n=(0,r.registerClientReference)(function(){throw Error("Attempted to call Button() from the server but Button is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Button.tsx","Button"),a=(0,r.registerClientReference)(function(){throw Error("Attempted to call ButtonAnchor() from the server but ButtonAnchor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Button.tsx","ButtonAnchor"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call ButtonLink() from the server but ButtonLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Button.tsx","ButtonLink")},54819:(e,t,s)=>{"use strict";s.d(t,{Pagination:()=>r});let r=(0,s(75362).registerClientReference)(function(){throw Error("Attempted to call Pagination() from the server but Pagination is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/components/pagination/index.tsx","Pagination")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72907:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63798,23)),Promise.resolve().then(s.bind(s,20808)),Promise.resolve().then(s.bind(s,25673)),Promise.resolve().then(s.bind(s,29169))},88457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(95682),o=s(48661),n=s(77677),a=s.n(n),i=s(45602),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c={children:["",{children:["[countryCode]",{children:["(main)",{children:["account",{children:["my-orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23420)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/account/my-orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,16115)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/account/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,26159)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/account/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,34664)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,21212)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,86939)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,58126,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,78263,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/account/my-orders/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/[countryCode]/(main)/account/my-orders/page",pathname:"/[countryCode]/account/my-orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[790,216,137,221,834,410,612,565,704,782,894],()=>s(88457));module.exports=r})();