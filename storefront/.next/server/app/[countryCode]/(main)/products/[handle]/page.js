(()=>{var e={};e.id=587,e.ids=[587],e.modules={2166:(e,a,t)=>{"use strict";t.d(a,{KC:()=>d,UiRadioGroup:()=>l,jC:()=>n,wE:()=>c});var r=t(18928),s=t(63037),i=t(81010);let l=({...e})=>(0,r.jsx)(s.z6,{...e}),c=({variant:e="ghost",className:a,...t})=>(0,r.jsx)(s.sx,{...t,className:(0,i.QP)("flex gap-2 group cursor-pointer items-center","outline"===e&&"p-4 gap-4 border border-grayscale-200 hover:border-grayscale-500 transition-colors",a)}),n=({className:e,...a})=>(0,r.jsx)("span",{...a,className:(0,i.QP)("border border-grayscale-200 w-4 h-4 block transition-colors rounded-full group-hover:border-grayscale-600 group-data-[selected]:border-black group-data-[selected]:border-6 group-hover:group-data-[selected]:border-grayscale-600",e)}),d=({className:e,...a})=>(0,r.jsx)("span",{...a,className:e})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6608:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var r=t(78738),s=t(24020);let i=({colorScheme:e="grayscale",className:a,...t})=>(0,r.jsx)("div",{...t,className:(0,s.QP)("relative overflow-hidden shrink-0 rounded-2xs before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:to-transparent","grayscale"===e&&"bg-grayscale-50 before:via-white","white"===e&&"bg-white before:via-grayscale-50",a)})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14860:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(78738),s=t(6608);let i=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(s.E,{className:"mb-4 md:mb-6 w-full aspect-square"}),(0,r.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.E,{className:"mb-2.5 h-3 md:h-5 w-22"}),(0,r.jsx)(s.E,{className:"max-md:hidden h-3 md:h-3 w-18"})]}),(0,r.jsx)(s.E,{className:"h-3 md:h-6 w-18 md:w-22"})]})]})},18825:(e,a,t)=>{Promise.resolve().then(t.bind(t,91971)),Promise.resolve().then(t.bind(t,77646)),Promise.resolve().then(t.bind(t,93685)),Promise.resolve().then(t.bind(t,2479)),Promise.resolve().then(t.bind(t,41452)),Promise.resolve().then(t.bind(t,36426)),Promise.resolve().then(t.bind(t,25673)),Promise.resolve().then(t.bind(t,97305)),Promise.resolve().then(t.bind(t,24392)),Promise.resolve().then(t.bind(t,84117))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21212:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l,metadata:()=>i});var r=t(78738),s=t(29609);let i={title:"404",description:"Something went wrong"};function l(){return(0,r.jsx)(s.default,{})}},27472:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(78738);t(83723);var s=t(5137),i=t(24020);let l=({size:e="20",color:a="currentColor",...t})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,r.jsx)("path",{d:"M15.3141 3.16699H4.68453C3.84588 3.16699 3.16602 3.84685 3.16602 4.6855V15.3151C3.16602 16.1537 3.84588 16.8336 4.68453 16.8336H15.3141C16.1527 16.8336 16.8326 16.1537 16.8326 15.3151V4.6855C16.8326 3.84685 16.1527 3.16699 15.3141 3.16699Z",stroke:a,strokeWidth:"1.53749",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7.91699 9.16699C8.60735 9.16699 9.16699 8.60735 9.16699 7.91699C9.16699 7.22664 8.60735 6.66699 7.91699 6.66699C7.22664 6.66699 6.66699 7.22664 6.66699 7.91699C6.66699 8.60735 7.22664 9.16699 7.91699 9.16699Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M16.6667 12.5756L13.0208 9.1665L5 16.6665",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),c=({image:e,size:a})=>e?(0,r.jsx)(s.default,{src:e,alt:"Thumbnail",className:"absolute inset-0 object-cover object-center",draggable:!1,quality:50,sizes:"(max-width: 576px) 280px, (max-width: 768px) 360px, (max-width: 992px) 480px, 800px",fill:!0}):(0,r.jsx)("div",{className:"w-full h-full absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(l,{size:"small"===a?16:24})}),n=({thumbnail:e,images:a,size:t="small",isFeatured:s,className:l,"data-testid":n})=>{let d=e||a?.[0]?.url;return(0,r.jsx)("div",{className:(0,i.QP)("relative w-full overflow-hidden",l,s&&"aspect-[11/14]",!s&&"square"!==t&&"3/4"!==t&&"aspect-[9/16]","square"===t&&"aspect-[1/1]","3/4"===t&&"aspect-[3/4]","small"===t&&"w-[180px]","medium"===t&&"w-[290px]","large"===t&&"w-[440px]","full"===t&&"w-full"),"data-testid":n,children:(0,r.jsx)(c,{image:d,size:t})})}},27957:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=e=>Array.from(Array(e).keys())},28354:e=>{"use strict";e.exports=require("util")},28553:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,36197,23)),Promise.resolve().then(t.t.bind(t,57232,23)),Promise.resolve().then(t.bind(t,2159)),Promise.resolve().then(t.bind(t,10679)),Promise.resolve().then(t.bind(t,84594)),Promise.resolve().then(t.bind(t,78524)),Promise.resolve().then(t.bind(t,99559)),Promise.resolve().then(t.bind(t,46631)),Promise.resolve().then(t.bind(t,72028)),Promise.resolve().then(t.bind(t,78947))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31969:(e,a,t)=>{"use strict";t.d(a,{$:()=>l});let r=e=>e instanceof Object,s=e=>Array.isArray(e),i=e=>null==e||r(e)&&0===Object.keys(e).length||s(e)&&0===e.length||"string"==typeof e&&0===e.trim().length,l=({amount:e,currency_code:a,minimumFractionDigits:t,maximumFractionDigits:r,locale:s="en-US"})=>a&&!i(a)?new Intl.NumberFormat(s,{style:"currency",currency:a,minimumFractionDigits:t,maximumFractionDigits:r}).format(e):e.toString()},33873:e=>{"use strict";e.exports=require("path")},34664:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,metadata:()=>c});var r=t(78738),s=t(8339),i=t(51029),l=t(10679);let c={metadataBase:new URL((0,s.v)())};async function n(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Y,{}),e.children,(0,r.jsx)(l.Footer,{})]})}},41163:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=t(95682),s=t(48661),i=t(77677),l=t.n(i),c=t(45602),n={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);t.d(a,n);let d={children:["",{children:["[countryCode]",{children:["(main)",{children:["products",{children:["[handle]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,42208)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/products/[handle]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,34664)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,21212)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,86939)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,58126,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,78263,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/products/[handle]/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/[countryCode]/(main)/products/[handle]/page",pathname:"/[countryCode]/products/[handle]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41640:(e,a,t)=>{"use strict";t.d(a,{ProductPageGallery:()=>r});let r=(0,t(75362).registerClientReference)(function(){throw Error("Attempted to call ProductPageGallery() from the server but ProductPageGallery is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/ProductPageGallery.tsx","ProductPageGallery")},42208:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k,generateMetadata:()=>z,generateStaticParams:()=>P});var r=t(78738),s=t(83161),i=t(17525),l=t(26445),c=t(77242),n=t(83723),d=t(5137),o=t(50625),u=t(41640);let m=({images:e,className:a})=>{let t=e.filter(e=>!!e.url);return t.length?(0,r.jsx)(u.ProductPageGallery,{className:a,children:t.map((e,a)=>(0,r.jsx)("div",{className:"relative aspect-[3/4] w-full overflow-hidden",children:(0,r.jsx)(d.default,{src:e.url,priority:a<=2,alt:`Product image ${a+1}`,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 589px, (max-width: 1279px) 384px, 456px",className:"object-cover"},e.id)},e.id))}):null};var p=t(50199),h=t(99559),f=t(27472),x=t(54344);function g({product:e}){let{cheapestPrice:a}=(0,x.X)({product:e}),t=a&&a.calculated_price_number<(a?.original_price_number||0);return(0,r.jsxs)(h.LocalizedLink,{href:`/products/${e.handle}`,children:[(0,r.jsx)(f.A,{thumbnail:e.thumbnail,images:e.images,size:"square",className:"mb-4 md:mb-6"}),(0,r.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,r.jsxs)("div",{className:"max-md:text-xs",children:[(0,r.jsx)("p",{className:"mb-1",children:e.title}),e.collection&&(0,r.jsx)("p",{className:"text-grayscale-500 text-xs max-md:hidden",children:e.collection.title})]}),a?t?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold max-md:text-xs text-red-primary",children:a.calculated_price}),(0,r.jsx)("p",{className:"max-md:text-xs text-grayscale-500 line-through",children:a.original_price})]}):(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"font-semibold max-md:text-xs",children:a.calculated_price})}):null]})]})}var b=t(68032);async function _({product:e,countryCode:a}){let t=await (0,l.JN)(a);if(!t)return null;let s={limit:3};t?.id&&(s.region_id=t.id),e.collection_id&&(s.collection_id=[e.collection_id]),e.tags&&(s.tag_id=e.tags.map(e=>e.value).filter(Boolean)),s.is_giftcard=!1;let i=await (0,c.HM)({queryParams:s,countryCode:a}).then(({response:a})=>a.products.filter(a=>a.id!==e.id));return i.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.PE,{children:(0,r.jsx)(b.$B,{className:"mt-26 md:mt-36",children:(0,r.jsx)("h4",{className:"text-md md:text-2xl mb-8 md:mb-16",children:"Related products"})})}),(0,r.jsx)(b.PE,{className:"gap-y-10 md:gap-y-16",children:i.map(e=>(0,r.jsx)(b.$B,{className:"!col-span-6 md:!col-span-4",children:(0,r.jsx)(g,{product:e})},e.id))})]}):null}let v=({product:e})=>(0,r.jsxs)(r.Fragment,{children:[e.collection&&(0,r.jsx)(h.LocalizedLink,{href:`/collections/${e.collection.handle}`,className:"text-medium text-fg-muted dark:text-fg-muted-dark hover:text-fg-subtle dark:hover:text-fg-subtle-dark",children:(0,r.jsx)("p",{className:"text-grayscale-500 mb-2",children:e.collection.title})}),(0,r.jsx)("h2",{className:"text-md md:text-xl mb-2",children:e.title})]});var j=t(27957),w=t(14860);let y=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.PE,{children:(0,r.jsx)(b.$B,{className:"mt-26 md:mt-36",children:(0,r.jsx)("h4",{className:"text-md md:text-2xl mb-8 md:mb-16",children:"Related products"})})}),(0,r.jsx)(b.PE,{className:"gap-y-10 md:gap-y-16",children:(0,j.A)(3).map(e=>(0,r.jsx)(b.$B,{className:"!col-span-6 md:!col-span-4",children:(0,r.jsx)(w.A,{})},e))})]}),N=({product:e,materials:a,region:t,countryCode:i})=>{if(!e||!e.id)return(0,s.notFound)();let l=e.images||[],c=!!(e.images&&e.images.filter(e=>!!e.url).length>0),u=o.T.safeParse(e.collection?.metadata??{});return(0,r.jsxs)("div",{className:"pt-18 md:pt-26 lg:pt-37 pb-26 md:pb-36","data-testid":"product-container",children:[(0,r.jsx)(m,{className:"md:hidden",images:l}),(0,r.jsx)(b.PE,{children:(0,r.jsx)(b.$B,{className:"mb-26 md:mb-52",children:(0,r.jsxs)("div",{className:"flex max-lg:flex-col gap-8 xl:gap-27",children:[c&&(0,r.jsx)("div",{className:"lg:w-1/2 flex flex-1 flex-col gap-8",children:(0,r.jsx)(m,{className:"max-md:hidden",images:l})}),(0,r.jsxs)("div",{className:"sticky flex-1 top-0",children:[(0,r.jsx)(v,{product:e}),(0,r.jsx)(p.default,{product:e,materials:a,region:t})]}),!c&&(0,r.jsx)("div",{className:"flex-1"})]})})}),u.success&&("string"==typeof u.data.product_page_heading&&u.data.product_page_heading.length>0||"string"==typeof u.data.product_page_image?.url)&&(0,r.jsx)(b.PE,{children:(0,r.jsxs)(b.$B,{children:["string"==typeof u.data.product_page_heading&&u.data.product_page_heading.length>0&&(0,r.jsx)("h2",{className:"text-md md:text-2xl mb-8",children:u.data.product_page_heading}),"string"==typeof u.data.product_page_image?.url&&(0,r.jsx)("div",{className:"relative mb-8 md:mb-20 aspect-[3/2]",children:(0,r.jsx)(d.default,{src:u.data.product_page_image.url,alt:"Collection product page image",fill:!0,className:"object-cover"})})]})}),u.success&&u.data.product_page_wide_image&&"string"==typeof u.data.product_page_wide_image.url&&(0,r.jsx)("div",{className:"relative mb-8 md:mb-20 aspect-[3/2] md:aspect-[7/3]",children:(0,r.jsx)(d.default,{src:u.data.product_page_wide_image.url,alt:"Collection product page wide image",fill:!0,className:"object-cover"})}),u.success&&("string"==typeof u.data.product_page_cta_image?.url||"string"==typeof u.data.product_page_cta_heading&&u.data.product_page_cta_heading.length>0||"string"==typeof u.data.product_page_cta_link&&u.data.product_page_cta_link.length>0)&&(0,r.jsxs)(b.PE,{children:["string"==typeof u.data.product_page_cta_image?.url&&(0,r.jsx)(b.$B,{start:1,end:{base:10,md:6},children:(0,r.jsx)("div",{className:"relative aspect-[3/4]",children:(0,r.jsx)(d.default,{src:u.data.product_page_cta_image.url,fill:!0,alt:"Collection product page CTA image"})})}),("string"==typeof u.data.product_page_cta_heading&&u.data.product_page_cta_heading.length>0||"string"==typeof u.data.product_page_cta_link&&u.data.product_page_cta_link.length>0)&&(0,r.jsxs)(b.$B,{start:{base:1,md:7},end:13,children:["string"==typeof u.data.product_page_cta_heading&&u.data.product_page_cta_heading.length>0&&(0,r.jsx)("h3",{className:"text-md md:text-2xl my-8 md:mt-20",children:u.data.product_page_cta_heading}),"string"==typeof u.data.product_page_cta_link&&u.data.product_page_cta_link.length>0&&"string"==typeof e.collection?.handle&&(0,r.jsx)("p",{className:"text-base md:text-md",children:(0,r.jsx)(h.LocalizedLink,{href:`/collections/${e.collection.handle}`,variant:"underline",children:u.data.product_page_cta_link})})]})]}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(y,{}),children:(0,r.jsx)(_,{product:e,countryCode:i})})]})};async function P(){try{let e=await (0,l.OZ)().then(e=>e?.map(e=>e.countries?.map(e=>e.iso_2)).flat().filter(Boolean));if(!e)return[];let{products:a}=await i.x.store.product.list({fields:"handle"},{next:{tags:["products"]}});return e?.map(e=>a.map(a=>({countryCode:e,handle:a.handle}))).flat().filter(e=>e.handle)}catch(e){return console.error(`Failed to generate static paths for product pages: ${e instanceof Error?e.message:"Unknown error"}.`),[]}}async function z({params:e}){let{handle:a,countryCode:t}=await e,r=await (0,l.JN)(t);r||(0,s.notFound)();let i=await (0,c.vv)(a,r.id);return i||(0,s.notFound)(),console.log("fetched products",JSON.stringify(i)),{title:`${i.title} | Medusa Store`,description:`${i.title}`,openGraph:{title:`${i.title} | Medusa Store`,description:`${i.title}`,images:i.thumbnail?[i.thumbnail]:[]}}}async function k({params:e}){let{handle:a,countryCode:t}=await e,i=await (0,l.JN)(t);i||(0,s.notFound)();let[n,d]=await Promise.all([(0,c.vv)(a,i.id),(0,c.Xx)(a)]);return n||(0,s.notFound)(),(0,r.jsx)(N,{product:n,materials:d.materials,region:i,countryCode:t})}},50199:(e,a,t)=>{"use strict";t.d(a,{default:()=>r});let r=(0,t(75362).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/products/components/product-actions/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/products/components/product-actions/index.tsx","default")},50625:(e,a,t)=>{"use strict";t.d(a,{T:()=>s});var r=t(64101);let s=r.z.object({image:r.z.object({id:r.z.string(),url:r.z.string().url()}).optional(),description:r.z.string().optional(),collection_page_image:r.z.object({id:r.z.string(),url:r.z.string().url()}).optional(),collection_page_heading:r.z.string().optional(),collection_page_content:r.z.string().optional(),product_page_heading:r.z.string().optional(),product_page_image:r.z.object({id:r.z.string(),url:r.z.string().url()}).optional(),product_page_wide_image:r.z.object({id:r.z.string(),url:r.z.string().url()}).optional(),product_page_cta_image:r.z.object({id:r.z.string(),url:r.z.string().url()}).optional(),product_page_cta_heading:r.z.string().optional(),product_page_cta_link:r.z.string().optional()})},53733:(e,a,t)=>{"use strict";t.r(a),t.d(a,{"00b1b5703fbbf8f61b2b24a649377b5cf29d480b0e":()=>r.N$,"00c051bf2c4aeb4ae7a36825676a1ebd030e871906":()=>_,"00d0dada74b9ec77b0a5d77f651dcc95549144a7f8":()=>r.wH,"00e0803885072790ca8860c6958667bd2d028b84c5":()=>r.WY,"400584a2a19089eab10fa1d9c4100163e5a0f8be62":()=>p,"40142c0a31904f0551f584d2de1f6a7e54acb5b014":()=>r.bE,"4017f60e607533a63429e82286d8b7ca6571bce7bf":()=>r.ZM,"402f6ec674199a516266d9ea9c17de0196c3299e88":()=>P,"40555880fbdda12ea633e4ce950a2f11dbbcc15190":()=>r.Zy,"4056cbab58e04c5036039b3dc6e214e13fdf7a417d":()=>r.E1,"406952256cd95e66244d7f808211493e97e14d0cd6":()=>r.KG,"4073415b2bdcda5d588f1ec4343341d9ab6853c8ed":()=>r.xe,"40762b8fb9498ea59ff66dadf07ff5cd06c0f5cebb":()=>f,"40a19158c177f9a97d48b3056123c1a94a3ac3e1aa":()=>z,"40ac00fff6ea1dd3c05977455266823e0067652a53":()=>h,"40b0bf0aad832f76dca8c9bf2f7cab4d57deb5db91":()=>r.xI,"40c38a0385ce854946b3002691a247ea586fff5704":()=>r.eB,"40d1b9d99267fa9420cc52d9a5f5715a027b2ebcc5":()=>r.U3,"40e70f7a8be9b1ce7fc8e53d484c8ba2eae087c803":()=>r.JZ,"607be41d8bd9c2f357740891ea60939b8b8435e483":()=>y,"60888ad5afcb7abb3741ccfbe6a89256231e138936":()=>r.M7,"608dfa9dd4fd10b3f02786e481d35c8db373fdf953":()=>r.Ye,"60b15ede6f5043ac93ca71ca877d6b4a75ee24c62f":()=>N,"7f0bb8038e044ef1e4bc367db1a68ba8a10d5d3042":()=>m,"7f2033791f0cbdaf286b9ad01eb95b37e1ea5ea250":()=>b,"7f4fe5a127ebb849795af4b8d9029d4a508178ad04":()=>u,"7f8181c26e2f699a0e551d1e37a4b677b8789036a1":()=>x,"7fd9f44c8b1fcad73f97d8919530753ebc4364880f":()=>g});var r=t(28693),s=t(52376);t(2134);var i=t(58602),l=t(95070),c=t(58133),n=t(1530),d=t(63420),o=t(60930);let u=async function(){return await n.x.client.fetch("/store/customers/me",{next:{tags:["customer"]},headers:{...await (0,d.z5)()},cache:"no-store"}).then(({customer:e})=>e).catch(()=>null)},m=async function(e){return n.x.store.customer.update({first_name:e.first_name,last_name:e.last_name,phone:e.phone??void 0},{},await (0,d.z5)()).then(()=>((0,c.revalidateTag)("customer"),{state:"success"})).catch(()=>((0,c.revalidateTag)("customer"),{state:"error",error:"Failed to update customer personal information"}))};async function p(e){try{let a=await n.x.auth.register("customer","emailpass",{email:e.email,password:e.password}),t={authorization:`Bearer ${a}`},{customer:r}=await n.x.store.customer.create({email:e.email,first_name:e.first_name,last_name:e.last_name,phone:e.phone??void 0},{},t),s=await n.x.auth.login("customer","emailpass",{email:e.email,password:e.password});if("object"==typeof s)return(0,l.redirect)(s.location),{success:!0,customer:r};await (0,d.O5)(s),await n.x.client.fetch("/store/custom/customer/send-welcome-email",{method:"POST",headers:await (0,d.z5)()}),(0,c.revalidateTag)("customer");let i=await (0,d.Cy)();return i&&(await n.x.store.cart.transferCart(i,{},await (0,d.z5)()),(0,c.revalidateTag)("cart")),{success:!0,customer:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:`${e}`}}}async function h(e){let a=e.redirect_url;try{let t=await n.x.auth.login("customer","emailpass",{email:e.email,password:e.password});if("object"==typeof t)return{success:!0,redirectUrl:t.location};await (0,d.O5)(t),(0,c.revalidateTag)("customer");let r=await (0,d.Cy)();return r&&(await n.x.store.cart.transferCart(r,{},await (0,d.z5)()),(0,c.revalidateTag)("cart")),{success:!0,redirectUrl:a||"/"}}catch(e){return{success:!1,message:e instanceof Error?e.message:`${e}`}}}async function f(e){return await n.x.auth.logout(),await (0,d.QF)(),(0,c.revalidateTag)("customer"),e}let x=async e=>n.x.store.customer.createAddress({first_name:e.first_name,last_name:e.last_name,company:e.company??void 0,address_1:e.address_1,address_2:e.address_2??void 0,city:e.city,postal_code:e.postal_code,province:e.province??void 0,country_code:e.country_code,phone:e.phone??void 0},{},await (0,d.z5)()).then(({customer:e})=>((0,c.revalidateTag)("customer"),{addressId:e.addresses[e.addresses.length-1].id,success:!0,error:null})).catch(e=>((0,c.revalidateTag)("customer"),{addressId:"",success:!1,error:e.toString()})),g=async e=>{if("string"!=typeof e)throw Error("Invalid input data");await n.x.store.customer.deleteAddress(e,await (0,d.z5)()).then(()=>({success:!0,error:null})).catch(e=>({success:!1,error:e.toString()})),(0,c.revalidateTag)("customer")},b=async(e,a)=>{if(!e)throw Error("Invalid input data");return n.x.store.customer.updateAddress(e,{first_name:a.first_name,last_name:a.last_name,company:a.company??void 0,address_1:a.address_1,address_2:a.address_2??void 0,city:a.city,postal_code:a.postal_code,province:a.province??void 0,country_code:a.country_code,phone:a.phone??void 0},{},await (0,d.z5)()).then(()=>((0,c.revalidateTag)("customer"),{addressId:e,success:!0,error:null})).catch(a=>((0,c.revalidateTag)("customer"),{addressId:e,success:!1,error:a.toString()}))};async function _(){let e=await u();return e?(await n.x.auth.resetPassword("logged-in-customer","emailpass",{identifier:e.email}),{success:!0}):{success:!1,error:"No customer found"}}let v=i.z.object({email:i.z.string().email(),token:i.z.string()}),j=i.z.object({type:i.z.literal("reset"),current_password:i.z.string().min(6),new_password:i.z.string().min(6),confirm_new_password:i.z.string().min(6)}),w=i.z.object({type:i.z.literal("forgot"),new_password:i.z.string().min(6),confirm_new_password:i.z.string().min(6)});async function y(e,a){let t=v.parse(e);if("reset"===a.type)try{await n.x.auth.login("customer","emailpass",{email:t.email,password:a.current_password})}catch(e){return{...t,state:"error",error:"Wrong password"}}return n.x.auth.updateProvider("reset"===a.type?"logged-in-customer":"customer","emailpass",{email:t.email,password:a.new_password},t.token).then(()=>({...t,state:"success"})).catch(()=>({...t,state:"error",error:"Failed to update password"}))}async function N(e,a){return n.x.auth.resetPassword("customer","emailpass",{identifier:a.email}).then(()=>({state:"success"})).catch(()=>({state:"error",error:"Failed to reset password"}))}async function P(e){return e?n.x.store.customer.updateAddress(e,{is_default_shipping:!0},{},await (0,d.z5)()).then(()=>((0,c.revalidateTag)("customer"),{success:!0,error:null})).catch(e=>((0,c.revalidateTag)("customer"),{success:!1,error:e.toString()})):{success:!1,error:"No address id provided"}}async function z(e){return e?n.x.store.customer.updateAddress(e,{is_default_billing:!0},{},await (0,d.z5)()).then(()=>((0,c.revalidateTag)("customer"),{success:!0,error:null})).catch(e=>((0,c.revalidateTag)("customer"),{success:!1,error:e.toString()})):{success:!1,error:"No address id provided"}}i.z.discriminatedUnion("type",[j,w]),i.z.object({email:i.z.string().email()}),(0,o.D)([u,m,p,h,f,x,g,b,_,y,N,P,z]),(0,s.A)(u,"7f4fe5a127ebb849795af4b8d9029d4a508178ad04",null),(0,s.A)(m,"7f0bb8038e044ef1e4bc367db1a68ba8a10d5d3042",null),(0,s.A)(p,"400584a2a19089eab10fa1d9c4100163e5a0f8be62",null),(0,s.A)(h,"40ac00fff6ea1dd3c05977455266823e0067652a53",null),(0,s.A)(f,"40762b8fb9498ea59ff66dadf07ff5cd06c0f5cebb",null),(0,s.A)(x,"7f8181c26e2f699a0e551d1e37a4b677b8789036a1",null),(0,s.A)(g,"7fd9f44c8b1fcad73f97d8919530753ebc4364880f",null),(0,s.A)(b,"7f2033791f0cbdaf286b9ad01eb95b37e1ea5ea250",null),(0,s.A)(_,"00c051bf2c4aeb4ae7a36825676a1ebd030e871906",null),(0,s.A)(y,"607be41d8bd9c2f357740891ea60939b8b8435e483",null),(0,s.A)(N,"60b15ede6f5043ac93ca71ca877d6b4a75ee24c62f",null),(0,s.A)(P,"402f6ec674199a516266d9ea9c17de0196c3299e88",null),(0,s.A)(z,"40a19158c177f9a97d48b3056123c1a94a3ac3e1aa",null)},54344:(e,a,t)=>{"use strict";t.d(a,{R:()=>i,X:()=>l});let r=(e,a)=>((e-a)/e*100).toFixed();var s=t(31969);let i=e=>e?.calculated_price?.calculated_amount?{calculated_price_number:e.calculated_price.calculated_amount,calculated_price:(0,s.$)({amount:e.calculated_price.calculated_amount,currency_code:e.calculated_price.currency_code??""}),original_price_number:e.calculated_price.original_amount,original_price:(0,s.$)({amount:e.calculated_price.original_amount??0,currency_code:e.calculated_price.currency_code??""}),currency_code:e.calculated_price.currency_code,price_type:e.calculated_price.calculated_price?.price_list_type,percentage_diff:r(e.calculated_price.original_amount??0,e.calculated_price.calculated_amount)}:null;function l({product:e,variantId:a}){if(!e||!e.id)throw Error("No product provided");return{product:e,cheapestPrice:e&&e.variants?.length?i(e.variants.filter(e=>!!e.calculated_price).sort((e,a)=>(e.calculated_price?.calculated_amount??0)-(a.calculated_price?.calculated_amount??0))[0]):null,variantPrice:(()=>{if(!e||!a)return null;let t=e.variants?.find(e=>e.id===a||e.sku===a);return t?i(t):null})()}}},55531:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(18928);t(91153);var s=t(81010);let i=({className:e,...a})=>(0,r.jsx)("div",{...a,className:(0,s.QP)("inline-flex h-10 w-10 items-center justify-center rounded-full border border-black",e)})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64676:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,26128,23)),Promise.resolve().then(t.bind(t,99559)),Promise.resolve().then(t.bind(t,41640)),Promise.resolve().then(t.bind(t,50199))},77242:(e,a,t)=>{"use strict";t.d(a,{HM:()=>n,Xx:()=>c,jY:()=>i,vv:()=>l});var r=t(17525),s=t(26445);let i=async function({ids:e,regionId:a}){return r.x.client.fetch("/store/products",{query:{id:e,region_id:a,fields:"*variants.calculated_price,+variants.inventory_quantity"},next:{tags:["products"]},cache:"force-cache"}).then(({products:e})=>e)},l=async function(e,a){return r.x.client.fetch("/store/products",{query:{handle:e,region_id:a,fields:"*variants.calculated_price,+variants.inventory_quantity"},next:{tags:["products"]}}).then(({products:e})=>e[0])},c=async function(e){return r.x.client.fetch(`/store/custom/fashion/${e}`,{method:"GET",next:{tags:["products"]},cache:"force-cache"})},n=async function({pageParam:e=1,queryParams:a,countryCode:t}){let i=Math.max(1,e||1),l=a?.limit||12,c=(i-1)*l,n=await (0,s.JN)(t);return n?r.x.client.fetch("/store/products",{query:{limit:l,offset:c,region_id:n.id,fields:"*variants.calculated_price",...a},next:{tags:["products"]},cache:"force-cache"}).then(({products:e,count:t})=>{let r=t>c+l?i+1:null;return{response:{products:e,count:t},nextPage:r,queryParams:a}}):{response:{products:[],count:0},nextPage:null}}},78682:(e,a,t)=>{"use strict";t.d(a,{ProductPageGallery:()=>d});var r=t(18928),s=t(91153),i=t(81010),l=t(34873),c=t(87491),n=t(55531);let d=({children:e,className:a})=>{let[t,d]=(0,l.A)({containScroll:"trimSnaps",skipSnaps:!0}),[o,u]=s.useState(!0),[m,p]=s.useState(!0),[h,f]=s.useState(0),[x,g]=s.useState([]),b=s.useCallback(()=>d&&d.scrollPrev(),[d]),_=s.useCallback(()=>d&&d.scrollNext(),[d]),v=s.useCallback(e=>{u(!e.canScrollPrev()),p(!e.canScrollNext()),f(e.selectedScrollSnap())},[]),j=s.useCallback(e=>{g(e.scrollSnapList())},[]),w=s.useCallback(e=>{d&&d.scrollTo(e)},[d]);return s.useEffect(()=>{d&&(j(d),v(d),d.on("reInit",j).on("reInit",v).on("select",v))},[d,j,v]),(0,r.jsxs)("div",{className:(0,i.QP)("overflow-hidden relative",a),children:[(0,r.jsxs)("div",{className:"relative flex items-center p-0 lg:mb-6",children:[(0,r.jsx)("button",{type:"button",onClick:b,disabled:o,className:"transition-opacity absolute left-4 z-10 max-lg:hidden","aria-label":"Previous",children:(0,r.jsx)(n.A,{className:(0,i.Id)("bg-black text-white transition-colors",o&&"bg-transparent text-black"),children:(0,r.jsx)(c.I,{name:"arrow-left",className:"w-6 h-6"})})}),(0,r.jsx)("div",{ref:t,className:"w-full",children:(0,r.jsx)("div",{className:"flex touch-pan-y gap-4",children:s.Children.map(e,e=>(0,r.jsx)("div",{className:"w-full md:max-w-[80%] flex-shrink-0",children:e}))})}),(0,r.jsx)("button",{type:"button",onClick:_,disabled:m,className:"transition-opacity absolute right-4 z-10 max-lg:hidden","aria-label":"Next",children:(0,r.jsx)(n.A,{className:(0,i.Id)("bg-black text-white transition-colors",m&&"bg-transparent text-black"),children:(0,r.jsx)(c.I,{name:"arrow-right",className:"w-6 h-6"})})})]}),(0,r.jsx)("div",{className:"flex justify-center max-lg:w-full max-lg:absolute max-lg:bottom-4",children:x.map((e,a)=>(0,r.jsx)("button",{onClick:()=>w(a),className:"px-1.5",children:(0,r.jsx)("span",{className:(0,i.QP)("border-b border-transparent transition-colors px-0.5",a===h&&"border-black"),children:a+1})},a))})]})}},94532:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,63798,23)),Promise.resolve().then(t.bind(t,25673)),Promise.resolve().then(t.bind(t,78682)),Promise.resolve().then(t.bind(t,96629))},96629:(e,a,t)=>{"use strict";t.d(a,{default:()=>y});var r=t(18928),s=t(17207),i=t.n(s),l=t(91153),c=t(73480),n=t(85903),d=t(63037),o=t(33498),u=t(20808),m=t(38883),p=t(59787),h=t(18408),f=t(56522);function x({product:e,variant:a}){let{cheapestPrice:t,variantPrice:s}=(0,f.X)({product:e,variantId:a?.id}),i=a?s:t;return i?i.calculated_price_number<(i.original_price_number??0)&&a?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-1 text-grayscale-500 line-through",children:i.original_price}),(0,r.jsx)("p",{className:"text-md mb-8 text-red-primary",children:i.calculated_price})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{className:"text-md mb-8",children:[!a&&"From ",i.calculated_price]})}):(0,r.jsx)("div",{className:"block w-32 h-9 bg-grayscale-50 animate-pulse"})}var g=t(2166),b=t(63056),_=t(56747);let v=e=>e?.reduce((e,a)=>(a.option_id&&(e[a.option_id]=a.value),e),{}),j=["Material","Color","Size"],w=e=>e.variants?.length===1?v(e.variants[0].options)??{}:e.options?e.options.filter(e=>e.values).filter(e=>1===e.values.length).reduce((e,a)=>(e[a.id]=a.values[0].value,e),{}):null,y=(0,b.R)(function({product:e,materials:a,disabled:t}){let[s,f]=(0,l.useState)(w(e)??{}),[b,y]=(0,l.useState)({}),[N,P]=(0,l.useState)(""),[z,k]=(0,l.useState)(1),C=(0,h.F)(),{mutateAsync:S,isPending:A}=(0,_.er)(),$=(0,l.useMemo)(()=>[{id:"setCapSize",title:"Cap Size",values:[{value:"S",id:"S"},{value:"M",id:"M"},{value:"L",id:"L"},{value:"XL",id:"XL"}]}],[]),E=(0,l.useMemo)(()=>{if(e.variants&&0!==e.variants.length)return e.variants.find(e=>{let a=v(e.options);return i()(a,s)})},[e.variants,s]),L=(e,a)=>{f(t=>({...t,[e]:a}))},F=(e,a)=>{y(t=>({...t,[e]:a})),P(a)},T=E?(0,o.P)(E):0,M=async()=>{if(!E?.id)return null;await S({variantId:E.id,quantity:z,countryCode:C,capSize:N})},q=(e.variants?.length??0)>1,U=(e.options||[]).sort((e,a)=>{let t=j.indexOf(e.title??""),r=j.indexOf(a.title??"");return -1===t&&(t=j.length),-1===r&&(r=j.length),t-r}),D=U.find(e=>"Material"===e.title),G=U.find(e=>"Color"===e.title),I=$.find(e=>"Cap Size"===e.title),B=D&&G?U.filter(e=>e.id!==D.id&&e.id!==G.id):U,O=D&&s[D.id]?a.find(e=>e.name===s[D.id]):void 0,R=!D||!G||O&&(O.colors.length<2||s[G.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{product:e,variant:E}),(0,r.jsx)("div",{className:"max-md:text-xs mb-8 md:mb-16 max-w-120",children:(0,r.jsx)("p",{children:e.description})}),q&&(0,r.jsxs)("div",{className:"flex flex-col gap-8 md:gap-6 mb-4 md:mb-26",children:[D&&G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"mb-4",children:["Materials",s[D.id]&&(0,r.jsx)("span",{className:"text-grayscale-500 ml-6",children:s[D.id]})]}),(0,r.jsxs)(c.l6,{selectedKey:s[D.id]??null,onSelectionChange:e=>{f({[D.id]:`${e}`})},placeholder:"Choose material",className:"w-full md:w-60",isDisabled:!!t||A,"aria-label":"Material",children:[(0,r.jsxs)(p.F$,{className:"!h-12 px-4 gap-2 max-md:text-base",children:[(0,r.jsx)(p.eE,{}),(0,r.jsx)(p.mt,{className:"h-6 w-6"})]}),(0,r.jsx)(n.A,{className:"w-[--trigger-width]",children:(0,r.jsx)(p.wz,{children:a.map(e=>(0,r.jsx)(p.vA,{id:e.name,children:e.name},e.id))})})]})]}),O&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("p",{className:"mb-4",children:["Colors",(0,r.jsx)("span",{className:"text-grayscale-500 ml-6",children:s[G.id]})]}),(0,r.jsx)(g.UiRadioGroup,{value:s[G.id]??null,onChange:e=>{L(G.id,e)},"aria-label":"Color",className:"flex gap-6",isDisabled:!!t||A,children:O.colors.map(e=>(0,r.jsx)(d.sx,{value:e.name,"aria-label":e.name,className:"h-8 w-8 cursor-pointer relative before:transition-colors before:absolute before:content-[''] before:-bottom-2 before:left-0 before:w-full before:h-px data-[selected]:before:bg-black shadow-sm hover:shadow",style:{background:e.hex_code}},e.id))})]})]}),R&&B.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"mb-4",children:[e.title,s[e.id]&&(0,r.jsx)("span",{className:"text-grayscale-500 ml-6",children:s[e.id]})]}),(0,r.jsxs)(c.l6,{selectedKey:s[e.id]??null,onSelectionChange:a=>{L(e.id,`${a}`)},placeholder:`Choose ${e.title.toLowerCase()}`,className:"w-full md:w-60",isDisabled:!!t||A,"aria-label":e.title,children:[(0,r.jsxs)(p.F$,{className:"!h-12 px-4 gap-2 max-md:text-base",children:[(0,r.jsx)(p.eE,{}),(0,r.jsx)(p.mt,{className:"h-6 w-6"})]}),(0,r.jsx)(n.A,{className:"w-[--trigger-width]",children:(0,r.jsx)(p.wz,{children:(e.values??[]).filter(e=>!!e.value).map(e=>(0,r.jsx)(p.vA,{id:e.value,children:e.value},e.id))})})]})]},e.id)),!!e.metadata?.setCapSize&&I&&$.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"mb-4",children:[e.title,b[e.id]&&(0,r.jsx)("span",{className:"text-grayscale-500 ml-6",children:b[e.id]})]}),(0,r.jsxs)(c.l6,{selectedKey:b[e.id]??null,onSelectionChange:a=>{F(e.id,`${a}`)},placeholder:`Choose ${e.title.toLowerCase()}`,className:"w-full md:w-60",isDisabled:!!t||A,"aria-label":e.title,children:[(0,r.jsxs)(p.F$,{className:"!h-12 px-4 gap-2 max-md:text-base",children:[(0,r.jsx)(p.eE,{}),(0,r.jsx)(p.mt,{className:"h-6 w-6"})]}),(0,r.jsx)(n.A,{className:"w-[--trigger-width]",children:(0,r.jsx)(p.wz,{children:(e.values??[]).filter(e=>!!e.value).map(e=>(0,r.jsx)(p.vA,{id:e.value,children:e.value},e.id))})})]})]},e.id))]}),(0,r.jsxs)("div",{className:"flex max-sm:flex-col gap-4",children:[(0,r.jsx)(m.o,{isDisabled:!T||!E||!!t||A,value:z,onChange:k,minValue:1,maxValue:T,className:"w-full sm:w-35 max-md:justify-center max-md:gap-2","aria-label":"Quantity"}),(0,r.jsx)(u.Button,{onPress:M,isDisabled:!T||!E||!!t,isLoading:A,className:"sm:flex-1",children:E?T?"Add to cart":"Out of stock":"Select variant"})]})]})})}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[790,216,137,221,873,37,207,565],()=>t(41163));module.exports=r})();