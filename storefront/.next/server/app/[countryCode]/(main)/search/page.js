(()=>{var e={};e.id=452,e.ids=[452],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3747:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var i=s(78738),a=s(68032),r=s(27957),n=s(14860);let u=()=>(0,i.jsx)(a.PE,{className:"gap-y-10 md:gap-y-16 mb-16 md:mb-20",children:(0,r.A)(9).map(e=>(0,i.jsx)(a.$B,{className:"md:!col-span-4 !col-span-6",children:(0,i.jsx)(n.A,{})},e))})},6608:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});var i=s(78738),a=s(24020);let r=({colorScheme:e="grayscale",className:t,...s})=>(0,i.jsx)("div",{...s,className:(0,a.QP)("relative overflow-hidden shrink-0 rounded-2xs before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:to-transparent","grayscale"===e&&"bg-grayscale-50 before:via-white","white"===e&&"bg-white before:via-grayscale-50",t)})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14860:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var i=s(78738),a=s(6608);let r=()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(a.E,{className:"mb-4 md:mb-6 w-full aspect-square"}),(0,i.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.E,{className:"mb-2.5 h-3 md:h-5 w-22"}),(0,i.jsx)(a.E,{className:"max-md:hidden h-3 md:h-3 w-18"})]}),(0,i.jsx)(a.E,{className:"h-3 md:h-6 w-18 md:w-22"})]})]})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21307:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var i=s(18928),a=s(25673),r=s(39453),n=s(56522);function u({product:e}){let{cheapestPrice:t}=(0,n.X)({product:e}),s=t&&t.calculated_price_number<(t?.original_price_number||0);return(0,i.jsxs)(a.LocalizedLink,{href:`/products/${e.handle}`,children:[(0,i.jsx)(r.A,{thumbnail:e.thumbnail,images:e.images,size:"square",className:"mb-4 md:mb-6"}),(0,i.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,i.jsxs)("div",{className:"max-md:text-xs",children:[(0,i.jsx)("p",{className:"mb-1",children:e.title}),e.collection&&(0,i.jsx)("p",{className:"text-grayscale-500 text-xs max-md:hidden",children:e.collection.title})]}),t?s?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold max-md:text-xs text-red-primary",children:t.calculated_price}),(0,i.jsx)("p",{className:"max-md:text-xs text-grayscale-500 line-through",children:t.original_price})]}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{className:"font-semibold max-md:text-xs",children:t.calculated_price})}):null]})]})}var d=s(63678),c=s(38496),h=s(53502);let o=()=>{let e=(0,h.usePathname)();return(0,i.jsx)(d.$B,{className:"pt-28",children:(0,i.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,i.jsx)("div",{children:(0,i.jsx)("p",{className:"text-md text-center mb-2",children:"No results match! We may not have any item in that category at the moment"})}),(0,i.jsx)(c.N_,{scroll:!1,href:e,variant:"underline",className:"inline-flex md:pb-0",children:"Clear filters"})]})})};var l=s(63056),p=s(91153),m=s(20917),y=s(55610),g=s(17602),w=class extends y.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,g.PL)()})}getOptimisticResult(e){return e.behavior=(0,g.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:s}=e,i=super.createResult(e,t),{isFetching:a,isRefetching:r,isError:n,isRefetchError:u}=i,d=s.fetchMeta?.fetchMore?.direction,c=n&&"forward"===d,h=a&&"forward"===d,o=n&&"backward"===d,l=a&&"backward"===d;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,g.rB)(t,s.data),hasPreviousPage:(0,g.RQ)(t,s.data),isFetchNextPageError:c,isFetchingNextPage:h,isFetchPreviousPageError:o,isFetchingPreviousPage:l,isRefetchError:u&&!c&&!o,isRefetching:r&&!h&&!l}}},x=s(17165);let f=({page:e,queryParams:t,sortBy:s,countryCode:i})=>{var a;return a={initialPageParam:e,queryKey:["products",t,s,i],queryFn:async({pageParam:e})=>(0,m.NT)({page:e,queryParams:t,sortBy:s,countryCode:i}),getNextPageParam:e=>{if(e.nextPage)return Math.ceil(e.nextPage/(e.queryParams?.limit||12))+1}},(0,x.t)(a,w,void 0)};var b=s(24167),q=s(54034);let R=()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(q.E,{className:"mb-4 md:mb-6 w-full aspect-square"}),(0,i.jsxs)("div",{className:"flex justify-between max-md:flex-col",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(q.E,{className:"mb-2.5 h-3 md:h-5 w-22"}),(0,i.jsx)(q.E,{className:"max-md:hidden h-3 md:h-3 w-18"})]}),(0,i.jsx)(q.E,{className:"h-3 md:h-6 w-18 md:w-22"})]})]}),A=()=>(0,i.jsx)(d.PE,{className:"gap-y-10 md:gap-y-16 mb-16 md:mb-20",children:(0,b.A)(9).map(e=>(0,i.jsx)(d.$B,{className:"md:!col-span-4 !col-span-6",children:(0,i.jsx)(R,{})},e))}),v=(0,l.R)(function({sortBy:e,page:t,collectionId:s,categoryId:a,typeId:r,productsIds:n,countryCode:c}){let h={limit:12};s&&(h.collection_id=Array.isArray(s)?s:[s]),a&&(h.category_id=Array.isArray(a)?a:[a]),r&&(h.type_id=Array.isArray(r)?r:[r]),n&&(h.id=n),"created_at"===e&&(h.order="created_at");let l=f({page:t,queryParams:h,sortBy:e,countryCode:c}),m=p.useRef(null);return(p.useEffect(()=>{if(!m.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&l.hasNextPage&&l.fetchNextPage()},{rootMargin:"100px"});return e.observe(m.current),()=>e.disconnect()},[l,m]),l.isPending)?(0,i.jsx)(A,{}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.PE,{className:"gap-y-10 md:gap-y-16 mb-16",children:[l?.data?.pages[0]?.response?.products?.length&&(!n||n.length>0)?l?.data?.pages.flatMap(e=>e?.response?.products.map(e=>(0,i.jsx)(d.$B,{className:"md:!col-span-4 !col-span-6",children:(0,i.jsx)(u,{product:e})},e.id))):(0,i.jsx)(o,{}),l.hasNextPage&&(0,i.jsx)("div",{ref:m})]})})})},24167:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=e=>Array.from(Array(e).keys())},27957:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=e=>Array.from(Array(e).keys())},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34694:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63798,23)),Promise.resolve().then(s.bind(s,63938)),Promise.resolve().then(s.bind(s,25673)),Promise.resolve().then(s.bind(s,21307))},43263:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>o,pages:()=>h,routeModule:()=>l,tree:()=>c});var i=s(95682),a=s(48661),r=s(77677),n=s.n(r),u=s(45602),d={};for(let e in u)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>u[e]);s.d(t,d);let c={children:["",{children:["[countryCode]",{children:["(main)",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,99421)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,34664)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,21212)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,86939)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,58126,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,78263,23)),"next/dist/client/components/unauthorized-error"]}]}.children,h=["/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/search/page.tsx"],o={require:s,loadChunk:()=>Promise.resolve()},l=new i.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[countryCode]/(main)/search/page",pathname:"/[countryCode]/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48623:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});let i=(0,s(75362).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/templates/paginated-products.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/modules/store/templates/paginated-products.tsx","default")},51998:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,26128,23)),Promise.resolve().then(s.bind(s,86288)),Promise.resolve().then(s.bind(s,99559)),Promise.resolve().then(s.bind(s,48623))},54034:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});var i=s(18928),a=s(81010);let r=({colorScheme:e="grayscale",className:t,...s})=>(0,i.jsx)("div",{...s,className:(0,a.QP)("relative overflow-hidden shrink-0 rounded-2xs before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:to-transparent","grayscale"===e&&"bg-grayscale-50 before:via-white","white"===e&&"bg-white before:via-grayscale-50",t)})},55531:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var i=s(18928);s(91153);var a=s(81010);let r=({className:e,...t})=>(0,i.jsx)("div",{...t,className:(0,a.QP)("inline-flex h-10 w-10 items-center justify-center rounded-full border border-black",e)})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63938:(e,t,s)=>{"use strict";s.d(t,{Carousel:()=>h});var i=s(18928),a=s(91153),r=s(81010),n=s(34873),u=s(87491),d=s(55531),c=s(63678);let h=({heading:e,button:t,arrows:s=!0,children:h,className:o})=>{let[l,p]=(0,n.A)({containScroll:"trimSnaps",skipSnaps:!0,active:!0}),[m,y]=a.useState(!0),[g,w]=a.useState(!0),x=a.useCallback(()=>p&&p.scrollPrev(),[p]),f=a.useCallback(()=>p&&p.scrollNext(),[p]),b=a.useCallback(e=>{y(!e.canScrollPrev()),w(!e.canScrollNext())},[]);return a.useEffect(()=>{p&&(b(p),p.on("reInit",b),p.on("select",b))},[p,b]),(0,i.jsx)("div",{className:(0,r.QP)("overflow-hidden",o),children:(0,i.jsx)(c.PE,{children:(0,i.jsxs)(c.$B,{className:"relative",children:[(0,i.jsxs)("div",{className:"mb-8 md:mb-15 flex max-sm:flex-col justify-between sm:items-center gap-x-10 gap-y-6",children:[e,(s||t)&&(0,i.jsxs)("div",{className:"flex md:gap-6 shrink-0",children:[t,s&&(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{type:"button",onClick:x,disabled:m,className:(0,r.Id)("max-md:hidden transition-opacity",m&&"opacity-50"),"aria-label":"Previous",children:(0,i.jsx)(d.A,{children:(0,i.jsx)(u.I,{name:"arrow-left",className:"w-6 h-6 text-black"})})}),(0,i.jsx)("button",{type:"button",onClick:f,disabled:g,className:(0,r.Id)("max-md:hidden transition-opacity",g&&"opacity-50"),"aria-label":"Next",children:(0,i.jsx)(d.A,{children:(0,i.jsx)(u.I,{name:"arrow-right",className:"w-6 h-6 text-black"})})})]})]})]}),(0,i.jsx)("div",{ref:l,children:(0,i.jsx)("div",{className:"flex touch-pan-y gap-4 md:gap-10",children:h})})]})})})}},86288:(e,t,s)=>{"use strict";s.d(t,{Carousel:()=>i});let i=(0,s(75362).registerClientReference)(function(){throw Error("Attempted to call Carousel() from the server but Carousel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Carousel.tsx","Carousel")},90190:(e,t,s)=>{"use strict";s.d(t,{n:()=>c});var i=s(78738);s(83723);var a=s(5137),r=s(92453),n=s(86288),u=s(99559),d=s(24020);let c=async({heading:e="Collections",className:t})=>{let s=await (0,r.KS)(0,20,["id","title","handle","metadata"]);return s&&s.collections.length?(0,i.jsx)(n.Carousel,{heading:(0,i.jsx)("h3",{className:"text-md md:text-2xl",children:e}),className:(0,d.QP)("mb-26 md:mb-36",t),children:s.collections.map(e=>(0,i.jsx)("div",{className:"w-[70%] sm:w-[60%] lg:w-full max-w-72 flex-shrink-0",children:(0,i.jsxs)(u.LocalizedLink,{href:`/collections/${e.handle}`,children:["object"==typeof e.metadata?.image&&e.metadata.image&&"url"in e.metadata.image&&"string"==typeof e.metadata.image.url&&(0,i.jsx)("div",{className:"relative mb-4 md:mb-6 w-full aspect-[3/4]",children:(0,i.jsx)(a.default,{src:e.metadata.image.url,alt:e.title,fill:!0})}),(0,i.jsx)("h3",{children:e.title})]})},e.id))}):null}},99421:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N,metadata:()=>S});var i=s(78738),a=s(68032),r=s(83723),n=s(3747),u=s(48623),d=s(90190);class c extends Error{name="MeiliSearchError";constructor(...e){super(...e)}}class h extends c{name="MeiliSearchRequestError";constructor(e,t){super(`Request to ${e} has failed`,{cause:t})}}function o(e,t){return`${e}
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that ${t} call requires.`}class l extends c{name="MeiliSearchApiError";cause;response;constructor(e,t){super(t?.message??`${e.status}: ${e.statusText}`),this.response=e,void 0!==t&&(this.cause=t)}}function p(e){return Object.entries(e).reduce((e,t)=>{let[s,i]=t;return void 0!==i&&(e[s]=i),e},{})}async function m(e){return await new Promise(t=>setTimeout(t,e))}function y(e){return Object.keys(e).reduce((t,s)=>{let i=e[s];return void 0===i?t:Array.isArray(i)?{...t,[s]:i.join(",")}:i instanceof Date?{...t,[s]:i.toISOString()}:{...t,[s]:i}},{})}class g{headers;url;requestConfig;httpClient;requestTimeout;constructor(e){this.headers=function(e){let t="X-Meilisearch-Client",s="Meilisearch JavaScript (v0.49.0)",i="Authorization",a=function(e){if(Array.isArray(e))return e.reduce((e,t)=>(e[t[0]]=t[1],e),{});if(!("has"in e))return Object.assign({},e);{let t={};return e.forEach((e,s)=>t[s]=e),t}}(e.requestConfig?.headers??{});if(e.apiKey&&!a[i]&&(a[i]=`Bearer ${e.apiKey}`),a["Content-Type"]||(a["Content-Type"]="application/json"),e.clientAgents&&Array.isArray(e.clientAgents)){let i=e.clientAgents.concat(s);a[t]=i.join(" ; ")}else if(e.clientAgents&&!Array.isArray(e.clientAgents))throw new c(`Meilisearch: The header "${t}" should be an array of string(s).
`);else a[t]=s;return a}(e),this.requestConfig=e.requestConfig,this.httpClient=e.httpClient,this.requestTimeout=e.timeout;try{let t=function(e){try{var t,s;return(s=e=!((t=e).startsWith("https://")||t.startsWith("http://"))?`http://${t}`:t).endsWith("/")||(s+="/"),e=s}catch{throw new c("The provided host is not valid.")}}(e.host);this.url=new URL(t)}catch{throw new c("The provided host is not valid.")}}async request({method:e,url:t,params:s,body:i,config:a={}}){let r=new URL(t,this.url);if(s){let e=new URLSearchParams;Object.keys(s).filter(e=>null!==s[e]).map(t=>e.set(t,s[t])),r.search=e.toString()}a.headers?.["Content-Type"]||(i=JSON.stringify(i));let n={...this.headers,...a.headers},u=this.fetchWithTimeout(r.toString(),{...a,...this.requestConfig,method:e,body:i,headers:n},this.requestTimeout),d=await u.catch(e=>{throw new h(r.toString(),e)});if(void 0!==this.httpClient)return d;let c=await d.text(),o=""===c?void 0:JSON.parse(c);if(!d.ok)throw new l(d,o);return o}async fetchWithTimeout(e,t,s){return new Promise((i,a)=>{let r,n=[(this.httpClient?this.httpClient:fetch)(e,t)];if(s){let e=new Promise((e,t)=>{r=setTimeout(()=>{t(Error("Error: Request Timed Out"))},s)});n.push(e)}Promise.race(n).then(i).catch(a).finally(()=>{clearTimeout(r)})})}async get(e,t,s){return await this.request({method:"GET",url:e,params:t,config:s})}async post(e,t,s,i){return await this.request({method:"POST",url:e,body:t,params:s,config:i})}async put(e,t,s,i){return await this.request({method:"PUT",url:e,body:t,params:s,config:i})}async patch(e,t,s,i){return await this.request({method:"PATCH",url:e,body:t,params:s,config:i})}async delete(e,t,s,i){return await this.request({method:"DELETE",url:e,body:t,params:s,config:i})}}class w extends c{name="MeiliSearchTimeOutError";constructor(e){super(e)}}let x={TASK_PROCESSING:"processing",TASK_ENQUEUED:"enqueued"},f={INDEX_NOT_FOUND:"index_not_found"};class b{taskUid;indexUid;status;type;enqueuedAt;constructor(e){this.taskUid=e.taskUid,this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.enqueuedAt=new Date(e.enqueuedAt)}}class q{indexUid;status;type;uid;batchUid;canceledBy;details;error;duration;startedAt;enqueuedAt;finishedAt;constructor(e){this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.uid=e.uid,this.batchUid=e.batchUid,this.details=e.details,this.canceledBy=e.canceledBy,this.error=e.error,this.duration=e.duration,this.startedAt=new Date(e.startedAt),this.enqueuedAt=new Date(e.enqueuedAt),this.finishedAt=new Date(e.finishedAt)}}class R{httpRequest;constructor(e){this.httpRequest=new g(e)}async getTask(e){let t=`tasks/${e}`;return new q(await this.httpRequest.get(t))}async getTasks(e={}){let t=await this.httpRequest.get("tasks",y(e));return{...t,results:t.results.map(e=>new q(e))}}async waitForTask(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){let i=Date.now();for(;Date.now()-i<t;){let t=await this.getTask(e);if(![x.TASK_ENQUEUED,x.TASK_PROCESSING].includes(t.status))return t;await m(s)}throw new w(`timeout of ${t}ms has exceeded on process ${e} when waiting a task to be resolved.`)}async waitForTasks(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){let i=[];for(let a of e){let e=await this.waitForTask(a,{timeOutMs:t,intervalMs:s});i.push(e)}return i}async cancelTasks(e={}){return new b(await this.httpRequest.post("tasks/cancel",{},y(e)))}async deleteTasks(e={}){return new b(await this.httpRequest.delete("tasks",{},y(e)))}}class A{uid;primaryKey;createdAt;updatedAt;httpRequest;tasks;constructor(e,t,s){this.uid=t,this.primaryKey=s,this.httpRequest=new g(e),this.tasks=new R(e)}async search(e,t,s){let i=`indexes/${this.uid}/search`;return await this.httpRequest.post(i,p({q:e,...t}),void 0,s)}async searchGet(e,t,s){let i=`indexes/${this.uid}/search`,a={q:e,...t,filter:(e=>{if("string"==typeof e)return e;if(Array.isArray(e))throw new c("The filter query parameter should be in string format when using searchGet")})(t?.filter),sort:t?.sort?.join(","),facets:t?.facets?.join(","),attributesToRetrieve:t?.attributesToRetrieve?.join(","),attributesToCrop:t?.attributesToCrop?.join(","),attributesToHighlight:t?.attributesToHighlight?.join(","),vector:t?.vector?.join(","),attributesToSearchOn:t?.attributesToSearchOn?.join(",")};return await this.httpRequest.get(i,p(a),s)}async searchForFacetValues(e,t){let s=`indexes/${this.uid}/facet-search`;return await this.httpRequest.post(s,p(e),void 0,t)}async searchSimilarDocuments(e){let t=`indexes/${this.uid}/similar`;return await this.httpRequest.post(t,p(e),void 0)}async getRawInfo(){let e=`indexes/${this.uid}`,t=await this.httpRequest.get(e);return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t}async fetchInfo(){return await this.getRawInfo(),this}async fetchPrimaryKey(){return this.primaryKey=(await this.getRawInfo()).primaryKey,this.primaryKey}static async create(e,t={},s){let i=new g(s);return new b(await i.post("indexes",{...t,uid:e}))}async update(e){let t=`indexes/${this.uid}`,s=await this.httpRequest.patch(t,e);return s.enqueuedAt=new Date(s.enqueuedAt),s}async delete(){let e=`indexes/${this.uid}`;return new b(await this.httpRequest.delete(e))}async getTasks(e={}){return await this.tasks.getTasks({...e,indexUids:[this.uid]})}async getTask(e){return await this.tasks.getTask(e)}async waitForTasks(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){return await this.tasks.waitForTasks(e,{timeOutMs:t,intervalMs:s})}async waitForTask(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){return await this.tasks.waitForTask(e,{timeOutMs:t,intervalMs:s})}async getStats(){let e=`indexes/${this.uid}/stats`;return await this.httpRequest.get(e)}async getDocuments(e={}){if(void 0!==(e=p(e)).filter)try{let t=`indexes/${this.uid}/documents/fetch`;return await this.httpRequest.post(t,e)}catch(e){throw e instanceof h?e.message=o(e.message,"getDocuments"):e instanceof l&&(e.message=o(e.message,"getDocuments")),e}{let t=`indexes/${this.uid}/documents`,s=Array.isArray(e?.fields)?{fields:e?.fields?.join(",")}:{};return await this.httpRequest.get(t,{...e,...s})}}async getDocument(e,t){let s=`indexes/${this.uid}/documents/${e}`,i=(()=>{if(Array.isArray(t?.fields))return t?.fields?.join(",")})();return await this.httpRequest.get(s,p({...t,fields:i}))}async addDocuments(e,t){let s=`indexes/${this.uid}/documents`;return new b(await this.httpRequest.post(s,e,t))}async addDocumentsFromString(e,t,s){let i=`indexes/${this.uid}/documents`;return new b(await this.httpRequest.post(i,e,s,{headers:{"Content-Type":t}}))}async addDocumentsInBatches(e,t=1e3,s){let i=[];for(let a=0;a<e.length;a+=t)i.push(await this.addDocuments(e.slice(a,a+t),s));return i}async updateDocuments(e,t){let s=`indexes/${this.uid}/documents`;return new b(await this.httpRequest.put(s,e,t))}async updateDocumentsInBatches(e,t=1e3,s){let i=[];for(let a=0;a<e.length;a+=t)i.push(await this.updateDocuments(e.slice(a,a+t),s));return i}async updateDocumentsFromString(e,t,s){let i=`indexes/${this.uid}/documents`;return new b(await this.httpRequest.put(i,e,s,{headers:{"Content-Type":t}}))}async deleteDocument(e){let t=`indexes/${this.uid}/documents/${e}`,s=await this.httpRequest.delete(t);return s.enqueuedAt=new Date(s.enqueuedAt),s}async deleteDocuments(e){let t=!Array.isArray(e)&&"object"==typeof e,s=`indexes/${this.uid}/${t?"documents/delete":"documents/delete-batch"}`;try{let t=await this.httpRequest.post(s,e);return new b(t)}catch(e){throw e instanceof h&&t?e.message=o(e.message,"deleteDocuments"):e instanceof l&&(e.message=o(e.message,"deleteDocuments")),e}}async deleteAllDocuments(){let e=`indexes/${this.uid}/documents`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async updateDocumentsByFunction(e){let t=`indexes/${this.uid}/documents/edit`;return new b(await this.httpRequest.post(t,e))}async getSettings(){let e=`indexes/${this.uid}/settings`;return await this.httpRequest.get(e)}async updateSettings(e){let t=`indexes/${this.uid}/settings`,s=await this.httpRequest.patch(t,e);return s.enqueued=new Date(s.enqueuedAt),s}async resetSettings(){let e=`indexes/${this.uid}/settings`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getPagination(){let e=`indexes/${this.uid}/settings/pagination`;return await this.httpRequest.get(e)}async updatePagination(e){let t=`indexes/${this.uid}/settings/pagination`;return new b(await this.httpRequest.patch(t,e))}async resetPagination(){let e=`indexes/${this.uid}/settings/pagination`;return new b(await this.httpRequest.delete(e))}async getSynonyms(){let e=`indexes/${this.uid}/settings/synonyms`;return await this.httpRequest.get(e)}async updateSynonyms(e){let t=`indexes/${this.uid}/settings/synonyms`;return new b(await this.httpRequest.put(t,e))}async resetSynonyms(){let e=`indexes/${this.uid}/settings/synonyms`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getStopWords(){let e=`indexes/${this.uid}/settings/stop-words`;return await this.httpRequest.get(e)}async updateStopWords(e){let t=`indexes/${this.uid}/settings/stop-words`;return new b(await this.httpRequest.put(t,e))}async resetStopWords(){let e=`indexes/${this.uid}/settings/stop-words`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getRankingRules(){let e=`indexes/${this.uid}/settings/ranking-rules`;return await this.httpRequest.get(e)}async updateRankingRules(e){let t=`indexes/${this.uid}/settings/ranking-rules`;return new b(await this.httpRequest.put(t,e))}async resetRankingRules(){let e=`indexes/${this.uid}/settings/ranking-rules`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getDistinctAttribute(){let e=`indexes/${this.uid}/settings/distinct-attribute`;return await this.httpRequest.get(e)}async updateDistinctAttribute(e){let t=`indexes/${this.uid}/settings/distinct-attribute`;return new b(await this.httpRequest.put(t,e))}async resetDistinctAttribute(){let e=`indexes/${this.uid}/settings/distinct-attribute`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getFilterableAttributes(){let e=`indexes/${this.uid}/settings/filterable-attributes`;return await this.httpRequest.get(e)}async updateFilterableAttributes(e){let t=`indexes/${this.uid}/settings/filterable-attributes`;return new b(await this.httpRequest.put(t,e))}async resetFilterableAttributes(){let e=`indexes/${this.uid}/settings/filterable-attributes`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getSortableAttributes(){let e=`indexes/${this.uid}/settings/sortable-attributes`;return await this.httpRequest.get(e)}async updateSortableAttributes(e){let t=`indexes/${this.uid}/settings/sortable-attributes`;return new b(await this.httpRequest.put(t,e))}async resetSortableAttributes(){let e=`indexes/${this.uid}/settings/sortable-attributes`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getSearchableAttributes(){let e=`indexes/${this.uid}/settings/searchable-attributes`;return await this.httpRequest.get(e)}async updateSearchableAttributes(e){let t=`indexes/${this.uid}/settings/searchable-attributes`;return new b(await this.httpRequest.put(t,e))}async resetSearchableAttributes(){let e=`indexes/${this.uid}/settings/searchable-attributes`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getDisplayedAttributes(){let e=`indexes/${this.uid}/settings/displayed-attributes`;return await this.httpRequest.get(e)}async updateDisplayedAttributes(e){let t=`indexes/${this.uid}/settings/displayed-attributes`;return new b(await this.httpRequest.put(t,e))}async resetDisplayedAttributes(){let e=`indexes/${this.uid}/settings/displayed-attributes`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getTypoTolerance(){let e=`indexes/${this.uid}/settings/typo-tolerance`;return await this.httpRequest.get(e)}async updateTypoTolerance(e){let t=`indexes/${this.uid}/settings/typo-tolerance`,s=await this.httpRequest.patch(t,e);return s.enqueuedAt=new Date(s.enqueuedAt),s}async resetTypoTolerance(){let e=`indexes/${this.uid}/settings/typo-tolerance`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getFaceting(){let e=`indexes/${this.uid}/settings/faceting`;return await this.httpRequest.get(e)}async updateFaceting(e){let t=`indexes/${this.uid}/settings/faceting`;return new b(await this.httpRequest.patch(t,e))}async resetFaceting(){let e=`indexes/${this.uid}/settings/faceting`;return new b(await this.httpRequest.delete(e))}async getSeparatorTokens(){let e=`indexes/${this.uid}/settings/separator-tokens`;return await this.httpRequest.get(e)}async updateSeparatorTokens(e){let t=`indexes/${this.uid}/settings/separator-tokens`;return new b(await this.httpRequest.put(t,e))}async resetSeparatorTokens(){let e=`indexes/${this.uid}/settings/separator-tokens`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getNonSeparatorTokens(){let e=`indexes/${this.uid}/settings/non-separator-tokens`;return await this.httpRequest.get(e)}async updateNonSeparatorTokens(e){let t=`indexes/${this.uid}/settings/non-separator-tokens`;return new b(await this.httpRequest.put(t,e))}async resetNonSeparatorTokens(){let e=`indexes/${this.uid}/settings/non-separator-tokens`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getDictionary(){let e=`indexes/${this.uid}/settings/dictionary`;return await this.httpRequest.get(e)}async updateDictionary(e){let t=`indexes/${this.uid}/settings/dictionary`;return new b(await this.httpRequest.put(t,e))}async resetDictionary(){let e=`indexes/${this.uid}/settings/dictionary`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getProximityPrecision(){let e=`indexes/${this.uid}/settings/proximity-precision`;return await this.httpRequest.get(e)}async updateProximityPrecision(e){let t=`indexes/${this.uid}/settings/proximity-precision`;return new b(await this.httpRequest.put(t,e))}async resetProximityPrecision(){let e=`indexes/${this.uid}/settings/proximity-precision`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getEmbedders(){let e=`indexes/${this.uid}/settings/embedders`;return await this.httpRequest.get(e)}async updateEmbedders(e){let t=`indexes/${this.uid}/settings/embedders`;return new b(await this.httpRequest.patch(t,e))}async resetEmbedders(){let e=`indexes/${this.uid}/settings/embedders`,t=await this.httpRequest.delete(e);return t.enqueuedAt=new Date(t.enqueuedAt),t}async getSearchCutoffMs(){let e=`indexes/${this.uid}/settings/search-cutoff-ms`;return await this.httpRequest.get(e)}async updateSearchCutoffMs(e){let t=`indexes/${this.uid}/settings/search-cutoff-ms`;return new b(await this.httpRequest.put(t,e))}async resetSearchCutoffMs(){let e=`indexes/${this.uid}/settings/search-cutoff-ms`;return new b(await this.httpRequest.delete(e))}async getLocalizedAttributes(){let e=`indexes/${this.uid}/settings/localized-attributes`;return await this.httpRequest.get(e)}async updateLocalizedAttributes(e){let t=`indexes/${this.uid}/settings/localized-attributes`;return new b(await this.httpRequest.put(t,e))}async resetLocalizedAttributes(){let e=`indexes/${this.uid}/settings/localized-attributes`;return new b(await this.httpRequest.delete(e))}async getFacetSearch(){let e=`indexes/${this.uid}/settings/facet-search`;return await this.httpRequest.get(e)}async updateFacetSearch(e){let t=`indexes/${this.uid}/settings/facet-search`;return new b(await this.httpRequest.put(t,e))}async resetFacetSearch(){let e=`indexes/${this.uid}/settings/facet-search`;return new b(await this.httpRequest.delete(e))}async getPrefixSearch(){let e=`indexes/${this.uid}/settings/prefix-search`;return await this.httpRequest.get(e)}async updatePrefixSearch(e){let t=`indexes/${this.uid}/settings/prefix-search`;return new b(await this.httpRequest.put(t,e))}async resetPrefixSearch(){let e=`indexes/${this.uid}/settings/prefix-search`;return new b(await this.httpRequest.delete(e))}}class v{uid;details;stats;startedAt;finishedAt;duration;progress;constructor(e){this.uid=e.uid,this.details=e.details,this.stats=e.stats,this.startedAt=e.startedAt,this.finishedAt=e.finishedAt,this.duration=e.duration,this.progress=e.progress}}class j{httpRequest;constructor(e){this.httpRequest=new g(e)}async getBatch(e){let t=`batches/${e}`;return new v(await this.httpRequest.get(t))}async getBatches(e={}){let t=await this.httpRequest.get("batches",y(e));return{...t,results:t.results.map(e=>new v(e))}}}class k{config;httpRequest;tasks;batches;constructor(e){this.config=e,this.httpRequest=new g(e),this.tasks=new R(e),this.batches=new j(e)}index(e){return new A(this.config,e)}async getIndex(e){return new A(this.config,e).fetchInfo()}async getRawIndex(e){return new A(this.config,e).getRawInfo()}async getIndexes(e={}){let t=await this.getRawIndexes(e),s=t.results.map(e=>new A(this.config,e.uid,e.primaryKey));return{...t,results:s}}async getRawIndexes(e={}){return await this.httpRequest.get("indexes",e)}async createIndex(e,t={}){return await A.create(e,t,this.config)}async updateIndex(e,t={}){return await new A(this.config,e).update(t)}async deleteIndex(e){return await new A(this.config,e).delete()}async deleteIndexIfExists(e){try{return await this.deleteIndex(e),!0}catch(e){if(e.code===f.INDEX_NOT_FOUND)return!1;throw e}}async swapIndexes(e){return await this.httpRequest.post("/swap-indexes",e)}async multiSearch(e,t){return await this.httpRequest.post("multi-search",e,void 0,t)}async getTasks(e={}){return await this.tasks.getTasks(e)}async getTask(e){return await this.tasks.getTask(e)}async waitForTasks(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){return await this.tasks.waitForTasks(e,{timeOutMs:t,intervalMs:s})}async waitForTask(e,{timeOutMs:t=5e3,intervalMs:s=50}={}){return await this.tasks.waitForTask(e,{timeOutMs:t,intervalMs:s})}async cancelTasks(e){return await this.tasks.cancelTasks(e)}async deleteTasks(e={}){return await this.tasks.deleteTasks(e)}async getBatches(e={}){return await this.batches.getBatches(e)}async getBatch(e){return await this.batches.getBatch(e)}async getKeys(e={}){let t=await this.httpRequest.get("keys",e);return t.results=t.results.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})),t}async getKey(e){let t=`keys/${e}`;return await this.httpRequest.get(t)}async createKey(e){return await this.httpRequest.post("keys",e)}async updateKey(e,t){let s=`keys/${e}`;return await this.httpRequest.patch(s,t)}async deleteKey(e){let t=`keys/${e}`;return await this.httpRequest.delete(t)}async health(){return await this.httpRequest.get("health")}async isHealthy(){try{return await this.httpRequest.get("health"),!0}catch{return!1}}async getStats(){return await this.httpRequest.get("stats")}async getVersion(){return await this.httpRequest.get("version")}async createDump(){return new b(await this.httpRequest.post("dumps"))}async createSnapshot(){return new b(await this.httpRequest.post("snapshots"))}}let $=new k({host:"http://127.0.0.1:7700",apiKey:"M4sfoLpnBBySDNkGThDm3NGD8nUOGxQo5ApwrY+kMEc="});var P=s(26445);let S={title:"Search",description:"Search for products"};async function N({params:e,searchParams:t}){let{countryCode:s}=await e,{query:c,page:h}=await t,o=h?parseInt(h,10):1,l=await $.index("products").search(c),p=await (0,P.JN)(s);return(0,i.jsxs)("div",{className:"md:pt-47 py-26 md:pb-36",children:[(0,i.jsx)(a.PE,{children:(0,i.jsx)(a.$B,{children:(0,i.jsxs)("h2",{className:"mb-8 md:mb-16 text-lg md:text-2xl",children:["Search results for '",c,"'"]})})}),(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(n.A,{}),children:p&&(0,i.jsx)(u.default,{sortBy:"created_at",page:o,countryCode:s,collectionId:void 0,categoryId:void 0,productsIds:l.hits.map(e=>e.id),typeId:void 0})}),(0,i.jsx)(d.n,{heading:"Checkout our collections for more products",className:"mt-26 md:mt-36 !mb-0"})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[790,216,137,873,565,502],()=>s(43263));module.exports=i})();