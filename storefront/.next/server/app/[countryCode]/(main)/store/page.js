(()=>{var e={};e.id=645,e.ids=[645],e.modules={667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(95682),a=r(48661),o=r(77677),i=r.n(o),n=r(45602),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["[countryCode]",{children:["(main)",{children:["store",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32434)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/store/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,34664)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,21212)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,86939)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,29609)),"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,58126,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,78263,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/app/[countryCode]/(main)/store/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[countryCode]/(main)/store/page",pathname:"/[countryCode]/store",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32434:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>h});var s=r(78738),a=r(83723),o=r(3747),i=r(58173),n=r(90190),l=r(92453),d=r(53214),c=r(66899),u=r(48623),m=r(26445);let p=async({sortBy:e,collection:t,category:r,type:p,page:h,countryCode:x})=>{let f=h?parseInt(h,10):1,[v,b,j,y]=await Promise.all([(0,l.KS)(0,100,["id","title","handle"]),(0,d.He)(0,100,["id","name","handle"]),(0,c.J)(0,100,["id","value"]),(0,m.JN)(x)]);return(0,s.jsxs)("div",{className:"md:pt-47 py-26 md:pb-36",children:[(0,s.jsx)(n.n,{}),(0,s.jsx)(i.default,{collections:Object.fromEntries(v.collections.map(e=>[e.handle,e.title])),collection:t,categories:Object.fromEntries(b.product_categories.map(e=>[e.handle,e.name])),category:r,types:Object.fromEntries(j.productTypes.map(e=>[e.value,e.value])),type:p,sortBy:e}),(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(o.A,{}),children:y&&(0,s.jsx)(u.default,{sortBy:e,page:f,countryCode:x,collectionId:t?v.collections.filter(e=>t.includes(e.handle)).map(e=>e.id):void 0,categoryId:r?b.product_categories.filter(e=>r.includes(e.handle)).map(e=>e.id):void 0,typeId:p?j.productTypes.filter(e=>p.includes(e.value)).map(e=>e.id):void 0})})]})},h={title:"Store",description:"Explore all of our products."};async function x({searchParams:e,params:t}){let{countryCode:r}=await t,{sortBy:a,page:o,collection:i,category:n,type:l}=await e;return(0,s.jsx)(p,{sortBy:a,page:o,countryCode:r,collection:i?Array.isArray(i)?i:[i]:void 0,category:n?Array.isArray(n)?n:[n]:void 0,type:l?Array.isArray(l)?l:[l]:void 0})}},33873:e=>{"use strict";e.exports=require("path")},55531:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(18928);r(91153);var a=r(81010);let o=({className:e,...t})=>(0,s.jsx)("div",{...t,className:(0,a.QP)("inline-flex h-10 w-10 items-center justify-center rounded-full border border-black",e)})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63938:(e,t,r)=>{"use strict";r.d(t,{Carousel:()=>c});var s=r(18928),a=r(91153),o=r(81010),i=r(34873),n=r(87491),l=r(55531),d=r(63678);let c=({heading:e,button:t,arrows:r=!0,children:c,className:u})=>{let[m,p]=(0,i.A)({containScroll:"trimSnaps",skipSnaps:!0,active:!0}),[h,x]=a.useState(!0),[f,v]=a.useState(!0),b=a.useCallback(()=>p&&p.scrollPrev(),[p]),j=a.useCallback(()=>p&&p.scrollNext(),[p]),y=a.useCallback(e=>{x(!e.canScrollPrev()),v(!e.canScrollNext())},[]);return a.useEffect(()=>{p&&(y(p),p.on("reInit",y),p.on("select",y))},[p,y]),(0,s.jsx)("div",{className:(0,o.QP)("overflow-hidden",u),children:(0,s.jsx)(d.PE,{children:(0,s.jsxs)(d.$B,{className:"relative",children:[(0,s.jsxs)("div",{className:"mb-8 md:mb-15 flex max-sm:flex-col justify-between sm:items-center gap-x-10 gap-y-6",children:[e,(r||t)&&(0,s.jsxs)("div",{className:"flex md:gap-6 shrink-0",children:[t,r&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:b,disabled:h,className:(0,o.Id)("max-md:hidden transition-opacity",h&&"opacity-50"),"aria-label":"Previous",children:(0,s.jsx)(l.A,{children:(0,s.jsx)(n.I,{name:"arrow-left",className:"w-6 h-6 text-black"})})}),(0,s.jsx)("button",{type:"button",onClick:j,disabled:f,className:(0,o.Id)("max-md:hidden transition-opacity",f&&"opacity-50"),"aria-label":"Next",children:(0,s.jsx)(l.A,{children:(0,s.jsx)(n.I,{name:"arrow-right",className:"w-6 h-6 text-black"})})})]})]})]}),(0,s.jsx)("div",{ref:m,children:(0,s.jsx)("div",{className:"flex touch-pan-y gap-4 md:gap-10",children:c})})]})})})}},69976:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,26128,23)),Promise.resolve().then(r.bind(r,86288)),Promise.resolve().then(r.bind(r,99559)),Promise.resolve().then(r.bind(r,58173)),Promise.resolve().then(r.bind(r,48623))},79704:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63798,23)),Promise.resolve().then(r.bind(r,63938)),Promise.resolve().then(r.bind(r,25673)),Promise.resolve().then(r.bind(r,4926)),Promise.resolve().then(r.bind(r,21307))},86288:(e,t,r)=>{"use strict";r.d(t,{Carousel:()=>s});let s=(0,r(75362).registerClientReference)(function(){throw Error("Attempted to call Carousel() from the server but Carousel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/josi/Documents/ShiftLabs/Projects/medusa-starter/storefront/src/components/Carousel.tsx","Carousel")},90190:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var s=r(78738);r(83723);var a=r(5137),o=r(92453),i=r(86288),n=r(99559),l=r(24020);let d=async({heading:e="Collections",className:t})=>{let r=await (0,o.KS)(0,20,["id","title","handle","metadata"]);return r&&r.collections.length?(0,s.jsx)(i.Carousel,{heading:(0,s.jsx)("h3",{className:"text-md md:text-2xl",children:e}),className:(0,l.QP)("mb-26 md:mb-36",t),children:r.collections.map(e=>(0,s.jsx)("div",{className:"w-[70%] sm:w-[60%] lg:w-full max-w-72 flex-shrink-0",children:(0,s.jsxs)(n.LocalizedLink,{href:`/collections/${e.handle}`,children:["object"==typeof e.metadata?.image&&e.metadata.image&&"url"in e.metadata.image&&"string"==typeof e.metadata.image.url&&(0,s.jsx)("div",{className:"relative mb-4 md:mb-6 w-full aspect-[3/4]",children:(0,s.jsx)(a.default,{src:e.metadata.image.url,alt:e.title,fill:!0})}),(0,s.jsx)("h3",{children:e.title})]})},e.id))}):null}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[790,216,137,873,37,80,565,697,491],()=>r(667));module.exports=s})();